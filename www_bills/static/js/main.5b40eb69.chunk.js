(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{246:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAdVBMVEX///9Etmk9tGQ4s2H5/fvs9+87s2NsxIiBy5g1sl/n9uzj8+jv+fJIum+P0aT8/v0vsVxRu3PI6NJ0yI/Y8OBdv3y24cOl27bK6dR7y5X0+/ev3r3V7t1WvXeo3LhjwYG64seKz5+X1Kq648ab1KyO0qRvw4kCxmKoAAALb0lEQVR42uya6ZaqOhCFiwoEGcUwKJMI2uf9H/HquU0MDkeCCHEtvt8NTVm7dlURYGFhYWFhYWFhYWFhYWFhYaEXemY4EUv2zSoNzaqKq8o009XPNmGRY7s6fDdZxPImjT0MLIsQSileoJQSYlkB8eLU37PIgC8lSnwz9pCi9hxE9MqqziP4MjLjsPICgqj1AZEEWpg7LnwJepSvSoKaHEi8cF9koD5ZnpaI2hAQN+FW8US6LCUEteEgscyDukE6ecjDGw5a1V5N47FPMeJT/f3fH1r+9g5EfPbXpa9cjLqTEvKkHWhl9WfVbI+scGzDdV3DdordYd/Uf6rYexImtUy1XKdoNvSxP5p+zgo7g0foRsSSJtyQRy0TtZqBKmSnDT7yjLJmzsuxTHftXVMR6z6X6PkOqEC21ch9Aqo6cWVucvBN7y5ISn9cmB0WWnfZi/2DPaDTnKo7KyZVksGsZLWHtx5RJYYOQ1i7LLQI3qghtGE+skSjN88T+/abNW1qNzHifHOOvbp9lipx4F2MQ3hTkNSMYBZYRbuzSHkwRpr9zKATI5Y5TE+2srCjTzOB8WBpt74Dc3KlRinpCClOXBiTjJmdEGm1g0k5xJ0EksaBsTH2HRtDbw/ToW+DG0OfohUF9WRKdX+wK1AdPgQzxVrA1IFJyMQKwSA0PjpREBQ9dZIQo5iKCTzAZylMKhYjg4+zEz0GQwc+jVGL/3Bz/HgGxeInjTtFVeSIgq19OItMCBA3DKYh6ugm/2iAGyFAcwdT4aSie+fTSJRMutVkP4HGQfYxkxFrsIZp2WoCxwmq4aTDxCTepx1AFwIMtmuYHBYIfdGB0XFNKtb6HOyuPodlNHoGxVk0X8MssI0wa7hjF7ogUR7g5OwEoa5GrwHOFuaDeYIXwIhEpeCia5iRROOMOYVnIdcoqXWYlevyjbEBY1GT66gGc+NfDbUaTfzWNUAb5iZb8RCtPYyCXfFbbnYwP3Z8fZ5inN+M8iJU40TPEXRqwPsk/H60ATVItDEfKbveLVTlIwndv8oqgjdZXzUaq3Eie8ENkXufO9oQERxAHSKiteRj9Xoagko0Ft8ybHiHLb9RrNY3klnKf/r0rfug1pKAWhQb3vcjGM6J8HVMuY95fcL3qPUIvxOxQTk8rWWwB64bbANUpdeLHHnHSDMYhuNxm1EwhYLP4w6GkdLr+0kV4UWEJQzC4KVsqjKudVnzPSrYvWeklmqdoiUK3not5cRXDagKT6I3JIk53ylUGki7FHxRbNbDnQortea1x9t5aYAsjPuMqlV4Ydc2NLIFWfhkWzkwF5n9ysR13hNLkERvU0h9mIn10ayq04sYE6ttGBHIkfNWYcM8uCsLNbTiFxLiXvMjmcKU+wzMg/5rIuRFq/uh7YPaww4qSAKzoPPliKzhXxQ47Bgjb6+babV3V0T7JTD6LfvU14e8OcdHl00j0Raiv06GfN82Ns+Xy4kk2kLS3htGAf05tP/hvnynlaiGZu+WSBupifbZzD6xRNF04BVbMqDpezM6qShR9AyJHcrKoC9Oe03gQofJJWrI5MM6Ql+SZ3lXT6IXUvlC9NsyrEFERYny2VTqpW5m4qMTUTUlesbxZE/HorgdhDpXqCnRM4aJkoMb8x71IkUlekavUXJZzx+NbKpK9EIuOZrqDb3/olpZiXZEl7qSR3MMWtSV6IWilNuEjNZoynaUVVqiZ4wKpazR8W7HbqUlKg7fZAd9iFqj+ZPBX9SW6IW6jfAg8S0pXyxUl+iFLf2N8CQxBPExT3WJioM07ZeUvSW+RlZfomcYn0ylPgEgR4BvkKi4IsZS38taDAC+QKJn7DbCjdThtlXAV0j0TBZov0Afwt8IA+c7JHpmje09oA9mG6H9HRK90EZoQR/aESgwvkOi4vlMIBeh21dqrNkW+uQSFfGkIowlIyxMQgmesqklKuJ9MofrDfJ1+T2JTh+hITUCWaE+oUTl63C4l9bcx/xsaolyNCkvNf9r71x3XMVhABw7lBIg5VqGQi/AtPP+j7haHdVyp5o9QyCQlfj+FxTyNQnEsWk+HNFCEnV5Rfl8KG2saboUAEjURRUlGjVqTfO8u6rFb0iOCMBEXVBRYjduXfqQ9MI8IhUIibqUoubvFhSfL6/id4R7n4u6nKJErZ6Xs/SOH76KupiixOe4d/w8ZTtPRqIuqijfBpbDqBM3+OUJYSbqQooSDxy1Zx1pFr4xs6heIOdTlEhO476XhsfnwFQKYSrqEooSMWWuikYcfaPtOENRF1OUx6gdw1+uqPh2nLGoSynK956KeOT+4eAJYS6qdUWJCummJo/EXNRFFOWHZrEdq3VGWpuJaldRIh69jx/fnoPvWRBGolpVlAg1/OFSjtysonWbuag2FSU6OXo7sJUsBHqaqLYVpQ7hod4msXDmotpTlMgM4gypEzohpopqWVEeZzji0gXr98miJjYV5QcnMoMfUVTUBFH73o6ixMkkzjDSLMR/oqiINhXlByfqMXMoPZd7IqaKakdRosIxy27iSiH+8dRMtVYV5Qcnes/oELEkTQ1FtaQoURqeym++kEU3mIpqUVHiLg2Ty1CIv4wnpFS2pyihTQ87xwpYmJGxqLYUJToF9IV+JHucMiWSqKSo7SP52vzhQDc597dvSVE+Ig6CGPuSiEUjjAlP6PtQ7KynxNIGklyn5NUgmu5+z2NhiSgDk8mQQovnyZWYJMIa1IXQTfp5Wgs32aXTUiCVijLcOJdCifqAznQZsaeR2I18if+RN9Z8yedyagyv92FiJCydtgHZCveo+Una6XmJnSpGSNFp03OTPJ4e+L1wjQ8FcyxJJLg62EQ0zKS5mMBDkutueeo9cJ58ybQ6BemWp60iu6K5Etqqs3CHHTzBezLRBpbt1Z1J0Qv8+dIBhr4z6dgJVsdA1fNF4wCgK/N+rmGG9KxE/IXURDcqLTcZsjJlsy5w0Yl00E2Bc8/SlQKWKXRtkgGeyEMi5oF9FezF2rTwBLUnZoDmfaoMsio86Dor56zSA44kha4zSxWLrik4sQZnVbVkn1iId1j7w1Qk0Vq1lOaEQP6v1YvlDamB8yesjMgPwJVKlUTUQEo6OyuhZqLmYnlKHhFQ2y7vqCuxNPUFrRd++wRYr3JXx54vWivdlyMQ6aERy5G0KRDyKqzRaiAwCMVSNAMAgYOwSIsAy79pNAUAIQdP2CQHXpu3MryZ+RAHeBWW+eS3g0csbON9aFx2hMv5DWVRCruEAQKx0IeU6MKlkUNjswNbeAnKqcUilAUCEOpU27tTrwAIvNViIeIg5TfOhkRY4cptAbmPxHK8/vul/oznFzQ/KuD0YlHyb3F5xdmbWdAA8EWUxSvY7m4KGJgFpZiP8HDxgSF1KZbnmiEwMA3OzTx+RofUBwbqgyfW4HyTwEEI6ultTM6HzAeOf8k9sQ7hIBE4vi6qREyiC761D9UpEutR7gGBgwoexrI20T1TCC/gsRarErdvIes+nlqTkbWsApDwCup7JNZmd1IIryBmxUcpxhC1pwu8XSe9lYbSW5u6CJSpPlXR7u996cVh12epfL8EFs4EgCRdgQhvoNS3vs3PPzYzicu8Ouy1RHjH37cuhX80+SVFeAcR9eVW9B9VXobN07ik2ZX158fhtL9o9BHeQaU/nSv2VgcagcOb6UuVpikiaK0BUKWpkhLxpx/owsk6YUk9XCRMR2Z950xMxDe83cdF+QhGkJ6HyNX2/aF83LRpIxGOgasR15wwP9zQh7GgPPadO4Wx/2br+XBU8tddiSjTrK93btv5RtwNxVEDb+ZP08nXo3KxlOsv8KK8OpxuWsr3/kTflxKOxaPNS5dm9vF48S6qu3tfHDNAlf6LkqCP+2Co6iiM/2dmbmxsbGxsbGxsbGxsbGxsrMU/cWOd7jwB4kIAAAAASUVORK5CYII="},250:function(e,t,a){e.exports=a(507)},507:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(18),o=a(510),c=a(512),i=sessionStorage,s={saveAppUserAccessToken:function(e,t,a){var n={oauthToken:e,refreshToken:t,timeExpiry:a};i.setItem("user",JSON.stringify(n)),this.setSelectedValue(!1)},getAppUserAccessToken:function(){var e=this.getAppUser();return this.getToken(e)},saveDummyUserAccessToken:function(e,t){var a={oauthToken:e,refreshToken:t};i.setItem("dummy",JSON.stringify(a)),this.setSelectedValue(!1)},getDummyUserAccessToken:function(){var e=this.getDummyUser();return this.getToken(e)},getAppUser:function(){var e=i.getItem("user");return JSON.parse(e)},getDummyUser:function(){var e=i.getItem("dummy");return JSON.parse(e)},getAppUserRefreshToken:function(){var e=this.getAppUser();return this.getRefreshToken(e)},getDummyUserRefreshToken:function(){var e=this.getDummyUser();return this.getRefreshToken(e)},getToken:function(e){return null!==e?e.oauthToken:null},getRefreshToken:function(e){return null!==e?e.refreshToken:null},isAppUserLoggedIn:function(){var e=this.getAppUser();return null!==e&&null!==e.oauthToken&&e.oauthToken.length>5},logoutAppUser:function(e){i.clear(),setTimeout(e,50)},clearDummyAccessToken:function(){i.removeItem("dummy")},saveUser:function(e){i.setItem("USERDATA",JSON.stringify(e))},getUser:function(){var e=i.getItem("USERDATA");return JSON.parse(e)},saveSetting:function(e){i.setItem("SETTINGS",JSON.stringify(e))},getSetting:function(e){var t=i.getItem(e);return null!=t?JSON.parse(t):null},storeJson:function(e,t){i.setItem(e,JSON.stringify(t))},getJson:function(e){var t=i.getItem(e);return null!=t?JSON.parse(t):null},saveUserProfiles:function(e){i.setItem("PROFILES",JSON.stringify(e))},getUserProfiles:function(){var e=i.getItem("PROFILES");return JSON.parse(e)},saveProfile:function(e){i.setItem("PROFILE",JSON.stringify(e))},getProfile:function(){return JSON.parse(i.getItem("PROFILE"))},setSelectedValue:function(e){i.setItem("SELECTEDPROFILE",e)},getSelectedValue:function(){return i.getItem("SELECTEDPROFILE")},storeLabels:function(e){this.storeJson("LABELS",e)},getLabels:function(){return this.getJson("LABELS")},saveCategories:function(e){i.setItem("CATEGORIES",JSON.stringify(e))},getCategories:function(){var e=i.getItem("CATEGORIES");return JSON.parse(e)},saveBills:function(e){i.setItem("BILL",JSON.stringify(e))},getBills:function(){var e=i.getItem("BILL");return JSON.parse(e)},saveContacts:function(e){i.setItem("CONTACTS",JSON.stringify(e))},getContacts:function(){var e=i.getItem("CONTACTS");return JSON.parse(e)},clearLocalStorage:function(){this.userDataClear(),i.removeItem("PROFILES"),i.removeItem("PROFILE"),i.removeItem("SELECTEDPROFILE"),i.removeItem("USERDATA")},userDataClear:function(){i.removeItem("CATEGORIES"),i.removeItem("LABELS"),i.removeItem("CONTACTS"),i.removeItem("BILL")}},u=a(248),d=a(4),m=a.n(d),p=a(7),f=a(5),E=a(6),g=a(9),b=a(8),h=a(10),y=a(511),C=a(237),v=a(509),S=a(2),A=a(42),w=function(e){function t(){var e,a;Object(f.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(g.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).loading=function(){return l.a.createElement("div",{className:"animated fadeIn pt-1 text-center"},"Loading...")},a.loadDashboard=function(){return l.a.createElement("div",{className:"animated fadeIn"},l.a.createElement(S.Card,null,l.a.createElement(S.CardHeader,null,l.a.createElement("strong",null,"Dashboard")),l.a.createElement(S.CardBody,null,l.a.createElement("center",null,l.a.createElement("h1",null,"Welcome To WebMoney App")))))},a}return Object(h.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,this.loadDashboard())}}]),t}(n.Component),k=a(20),O=a(21),I=a.n(O),T=a(30),D=a(158),j=a(15),P=a.n(j),x={authBaseURL:"https://124apps.com/bills/auth",cloudBaseURL:"https://124apps.com/bills/cloud",clientId:"trusted-app",clientSecret:"secret",notificationMillis:400,apiTimeoutMillis:2e3},L=function(){function e(){Object(f.a)(this,e)}return Object(E.a)(e,[{key:"login",value:function(e,t,a,n){B({grant_type:"password",username:e,password:t},a,n)}},{key:"refresh",value:function(e,t){if(s.isAppUserLoggedIn){var a={grant_type:"refresh_token",refresh_token:s.getAppUserRefreshToken()};B(a,e,t)}else t()}}]),e}(),B=function(e,t,a){var n=F.request({params:e}).then(function(a){return U(a,t,e)}).catch(function(e){N(e,a)});console.log(n)},U=function(e,t,a){"dummy@email.com"===a.username?s.saveDummyUserAccessToken(e.data.access_token,e.data.refresh_token):s.saveAppUserAccessToken(e.data.access_token,e.data.refresh_token,e.data.expires_in),null!=t&&t()},N=function(e,t){null!=t&&t()},F=P.a.create({baseURL:x.authBaseURL,method:"post",url:"/oauth/token",headers:{accept:"application/json","content-type":"application/json"},auth:{username:x.clientId,password:x.clientSecret},withCredentials:!0}),R=function(){function e(){Object(f.a)(this,e),this.getToken=function(){(new L).login("dummy@email.com","dummyPwd",function(){},function(){console.log("Cantnot Fetch the Admin Token")})}}return Object(E.a)(e,[{key:"registerUser",value:function(e,t,a){M(e,t,x.cloudBaseURL+"/user/register","POST",a)}},{key:"existsUser",value:function(){var e=Object(p.a)(m.a.mark(function e(t,a,n){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.getToken(),setTimeout(function(){G(x.cloudBaseURL+"/user/exists?email="+n.email,"GET",s.getDummyUserAccessToken()).request().then(function(e){e.data&&q(e,t)}).catch(function(e){"404"===e.response.status&&console.log("Internal Error")})},x.apiTimeoutMillis);case 2:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"verifySignup",value:function(){var e=Object(p.a)(m.a.mark(function e(t,a,n){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getToken();case 2:setTimeout(function(){M(t,a,x.cloudBaseURL+"/user/verify?code="+n+"&type=EMAIL","GET","verify")},x.apiTimeoutMillis);case 3:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}()}]),e}(),M=function(e,t,a,n,l){var r;r=G(a,n,"verify"===l?s.getAppUserAccessToken():s.getDummyUserAccessToken()),[l].length>0?r.request({data:l}).then(function(t){return q(t,e)}).catch(function(e){return H(e,t)}):r.request().then(function(t){return q(t,e)}).catch(function(e){return H(e,t)})},q=function(e,t){null!=t&&t(e.data)},H=function(e,t){null!=t&&t(e)};function G(e,t,a){return P.a.create({method:t,url:e,headers:{"content-type":"application/json",Authorization:"Bearer "+a}})}var V=Object(T.a)(),Y=function(e){function t(){var e,a;Object(f.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(g.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",email:"",password:"",flag:!0,color:"",content:"",emailAlert:!1,validate:{emailState:"",passwordState:""}},a.handleInput=function(e){a.setState(Object(k.a)({},e.target.name,e.target.value))},a.handleEnter=function(e){"Enter"===e.key&&a.handleSubmit(e)},a.handleSubmit=function(e){e.preventDefault();var t={name:a.state.name,email:a.state.email,password:a.state.password};""===a.state.name?a.callAlertTimer("danger","Name should not be empty"):a.state.password.length>5&&(new R).registerUser(a.successCall,a.errorCall,t)},a.successCall=function(){a.callAlertTimer("success","Succesfull! Please Check your Email for Activation Link")},a.successCallCheck=function(){a.state.validate.emailState="danger",a.setState({emailAlert:!0})},a.errorCall=function(e){a.callAlertTimer("danger","Unable to Process Request, Please try Again...")},a.errorCallCheck=function(e){a.state.validate.emailState="danger"},a.callAlertTimer=function(e,t){a.setState({color:e,content:t}),"success"===e&&setTimeout(Object(p.a)(m.a.mark(function e(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({color:"",content:"",flag:!1});case 2:(new L).login(a.state.email,a.state.password,a.loginSuccessCall,a.errorCall);case 3:case"end":return e.stop()}},e)})),x.apiTimeoutMillis)},a.loginSuccessCall=function(){V.push("/profiles"),s.clearDummyAccessToken(),window.location.reload()},a.validateEmail=function(e){var t=a.state.validate,n=e.target.value,l={email:e.target.value};/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(n)?(t.emailState="success",(new R).existsUser(a.successCallCheck,a.errorCallCheck,l),a.forceUpdate()):(a.setState({emailAlert:!1}),t.emailState="danger"),a.setState({validate:t})},a.validatePassword=function(e){var t=a.state.validate;e.target.value.length>5?t.passwordState="success":t.passwordState="danger",a.setState({validate:t})},a.loadSignupComponent=function(e,t,n,r,o,c,i,s,u,d){return l.a.createElement("div",{style:{paddingTop:50},className:"animated fadeIn"},l.a.createElement("center",null,l.a.createElement(S.Card,{style:{width:400,border:0}},l.a.createElement(S.CardBody,null,l.a.createElement(S.Alert,{color:u},s),l.a.createElement("center",null,l.a.createElement(S.CardTitle,{style:{color:"teal"}}," Create a Web Money Account ")," ",l.a.createElement("br",null)),l.a.createElement(S.FormGroup,{style:t},l.a.createElement(S.Label,{for:"Name"},"Name ",l.a.createElement("span",{style:e},"*")),l.a.createElement(S.Input,{name:"name",type:"text",placeholder:"Your Name",value:o,onChange:function(e){return a.handleInput(e)}})),l.a.createElement(S.FormGroup,{style:t},l.a.createElement(S.Label,{style:{align:t},for:"Email"},"Email ",l.a.createElement("span",{style:e},"*")),l.a.createElement(S.Input,{name:"email",type:"email",placeholder:"Your Email",value:c,valid:"success"===n,invalid:"danger"===n,onChange:function(e){a.handleInput(e),a.validateEmail(e)}}),l.a.createElement(S.FormFeedback,null," ",d?"Email already Exists, try another Email...":"Uh oh! Incorrect email")),l.a.createElement(S.FormGroup,{style:t},l.a.createElement(S.Label,{for:"password"},"Password ",l.a.createElement("span",{style:e},"*")),l.a.createElement(S.Input,{name:"password",type:"password",placeholder:"Your password",onChange:function(e){a.handleInput(e),a.validatePassword(e)},onKeyPress:a.handleEnter,disabled:!c||"danger"===n,valid:"success"===r,invalid:"danger"===r,value:i}),l.a.createElement(S.FormFeedback,null," Password length must be more then 5 characters ")),l.a.createElement("center",null,l.a.createElement(S.Button,{color:"info",disabled:!i||d&&"danger"===n,onClick:function(e){return a.handleSubmit(e)}}," Signup "),l.a.createElement(S.CardBody,null,l.a.createElement("span",null," I already have an Account. "),l.a.createElement(D.a,{to:"/login"}," Login Now ")))))))},a}return Object(h.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.state.validate,t=e.emailState,a=e.passwordState,n=this.state,r=n.name,o=n.email,c=n.password,i=n.content,s=n.color,u=n.flag,d=n.emailAlert;return u?l.a.createElement("div",null,this.loadSignupComponent({color:"red"},{textAlign:"left"},t,a,r,o,c,i,s,d)):l.a.createElement(S.Container,{style:{paddingTop:"20%"},className:"App"},l.a.createElement(S.Card,{style:{padding:40,border:0,textAlign:"center"}}," ",l.a.createElement("p",null,l.a.createElement("b",null,"You are Succesfully Registered with Web Money !!",l.a.createElement("br",null),l.a.createElement(I.a,{type:"TailSpin",color:"#2E86C1",height:60,width:60}),l.a.createElement("br",null),"Redirecting you to Login !")),l.a.createElement("br",null)," ",l.a.createElement("br",null)))}}]),t}(l.a.Component),z=function(e){function t(){return Object(f.a)(this,t),Object(g.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(S.Container,{className:"App"},l.a.createElement(S.Card,null,l.a.createElement(S.CardTitle,null,"Hello, welcome to Financial App!"),l.a.createElement(S.CardBody,null,"This app has many useful feature as below (refactor required):",l.a.createElement("ui",null,l.a.createElement("li",null,"Manage bills"),l.a.createElement("li",null,"Manage bills"),l.a.createElement("li",null,"Manage bills"),l.a.createElement("li",null,"Manage bills"),l.a.createElement("li",null,"Manage bills")))),l.a.createElement(S.Card,null,l.a.createElement(S.CardTitle,null,"In order to use the app please,"),l.a.createElement(S.CardBody,null,"To signup for a new acccount: ",l.a.createElement(D.a,{to:"/signup"},"Signup Now"),l.a.createElement("br",null),"Existing users can signin using: ",l.a.createElement(D.a,{to:"/login"},"Login")))))}}]),t}(n.Component),W=Object(T.a)(),J=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(g.a)(this,Object(b.a)(t).call(this,e))).handleEvent=function(e){a.setState(Object(k.a)({},e.target.name,e.target.value))},a.handleEnter=function(e){"Enter"===e.key&&0===e.keyCode&&a.handleButton()},a.handleButton=function(e){var t=a.state,n=t.email,l=t.password;""===n||""===l?a.callAlertTimer("danger","Please Enter Username/Password"):(new L).login(n,l,function(){W.push("/profiles"),s.clearDummyAccessToken(),window.location.reload()},function(){a.callAlertTimer("danger","Incorrect Username/Password")})},a.validateEmail=function(e){var t=a.state.validate;/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.target.value)?t.emailState="success":t.emailState="danger",a.setState({validate:t})},a.state={email:"",password:"",color:"",content:"",validate:{emailState:"",passwordState:""}},a}return Object(h.a)(t,e),Object(E.a)(t,[{key:"resetData",value:function(){this.setState({email:"",password:"",validate:{emailState:"",passwordState:""}})}},{key:"callAlertTimer",value:function(e,t){var a=this;this.setState({color:e,content:t}),this.resetData(),setTimeout(function(){return a.setState({color:"",content:""})},x.notificationMillis)}},{key:"render",value:function(){var e=this,t=this.state,a=t.color,n=t.content,r=t.email,o=t.password,c=this.state.validate.emailState;return s.isAppUserLoggedIn()?l.a.createElement("div",null,l.a.createElement(S.Container,{style:{padding:20},classmail:"App"},l.a.createElement("h3",null,"Already Loggedin. Go to",l.a.createElement(D.a,{to:"/dashboard"}," Dashboard ")),l.a.createElement("br",null))):l.a.createElement("div",{style:{color:"teal"}},l.a.createElement("center",null,l.a.createElement(S.Container,{style:{paddingTop:50},className:"App"},l.a.createElement(S.Alert,{color:a},n),l.a.createElement(S.Card,{style:{width:300,borderRadius:8}},l.a.createElement(S.CardBody,null,l.a.createElement(S.CardTitle,null,"Login to Web-Money !"),l.a.createElement("br",null),l.a.createElement(S.FormGroup,null,l.a.createElement(S.Input,{name:"email",type:"email",placeholder:"Your Email",value:r,valid:"success"===c,invalid:"danger"===c,onChange:function(t){e.validateEmail(t),e.handleEvent(t)}}),l.a.createElement(S.FormFeedback,null," Uh oh! Incorrect email. ")),l.a.createElement(S.FormGroup,null,l.a.createElement(S.Input,{type:"password",name:"password",onChange:function(t){e.handleEvent(t)},onKeyPress:this.handleEnter,placeholder:"Your Password",value:o})),l.a.createElement(S.Button,{color:"info",onClick:this.handleButton},"Login")),l.a.createElement(S.CardBody,null,l.a.createElement("span",null,"Don't have an Account yet? "),"\xa0 ",l.a.createElement("br",null),l.a.createElement(D.a,{to:"/signup"},"Signup Now"))))))}}]),t}(n.Component),K=a(249),Q=a(11),Z=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(g.a)(this,Object(b.a)(t).call(this,e))).handleSubmit=function(e,t,n){if(0===t.length){var l=n.code;(new R).verifySignup(a.successCall,a.errorCall,l)}},a.successCall=function(e){a.callAlertTimer("success","Verified Successfully !"),a.forceUpdate()},a.errorCall=function(e){a.callAlertTimer("danger","Unable to process, Please Re-Enter your Verification code Again....")},a.callAlertTimer=function(e,t){a.setState({color:e,content:t}),"success"===e&&setTimeout(function(){a.setState({color:"",content:"",redirect:!0}),window.location.href="/profiles"},x.notificationMillis)},a.loadVerify=function(){var e=a.state,t=e.color,n=e.content;return l.a.createElement("div",{className:"animated fadeIn"},l.a.createElement(S.Card,null,l.a.createElement(S.CardHeader,null,l.a.createElement("strong",null,"USER VERIFICATION")),l.a.createElement(S.CardBody,null,l.a.createElement("center",null,l.a.createElement(S.Col,{sm:"6"},l.a.createElement(S.Alert,{color:t},n),l.a.createElement(Q.AvForm,{onSubmit:a.handleSubmit},l.a.createElement(Q.AvField,{type:"number",name:"code",placeholder:"Enter Code sent to your Email",value:"danger"===t&&"",required:!0,errorMessage:"Please Enter Valid 6-digit Code"}),l.a.createElement(S.Button,{color:"info"},"Verify")," \xa0\xa0\xa0",l.a.createElement(D.a,{to:"/profiles"},l.a.createElement(S.Button,{type:"button"},"Cancel"))))))))},a.state={content:"",color:"",redirect:!1},a}return Object(h.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return this.state.redirect?l.a.createElement(K.a,{to:"/profiles"}):this.loadVerify()}}]),t}(n.Component),X=a(117),_=function(){function e(){Object(f.a)(this,e)}return Object(E.a)(e,[{key:"createProfile",value:function(e,t,a){ee(e,t,"/profiles/","POST",a)}},{key:"getProfiles",value:function(e,t,a){null===s.getUserProfiles()||"True"===a?ee(e,t,"/profiles/","GET"):e(s.getUserProfiles())}},{key:"getProfilesById",value:function(e,t,a){ee(e,t,"/profiles/"+a,"GET")}},{key:"updateProfile",value:function(e,t,a,n){ee(e,t,"/profiles/"+n,"PUT",a)}},{key:"deleteProfile",value:function(e,t,a){ee(e,t,"/profiles/"+a,"DELETE",null,a)}}]),e}(),$=_;function ee(e,t,a,n,l,r){return te.apply(this,arguments)}function te(){return(te=Object(p.a)(m.a.mark(function e(t,a,n,l,r,o){var c,i;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(c=re(n,l),e.prev=1,null!==r){e.next=8;break}return e.next=5,c.request();case 5:i=e.sent,e.next=11;break;case 8:return e.next=10,c.request({data:r});case 10:i=e.sent;case 11:if("GET"!==l){e.next=15;break}s.saveUserProfiles(i.data),e.next=17;break;case 15:return e.next=17,(new _).getProfiles(t,a,"True");case 17:ne(i,t,l,o),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(1),ae(e.t0,a,n,l,r,t);case 23:case"end":return e.stop()}},e,null,[[1,20]])}))).apply(this,arguments)}var ae=function(e,t,a,n,l,r){0===e.request.status?le(e,t):403===e.response.status||401===e.response.status?(new L).refresh(function(){ee(r,t,a,n,l)},le(e,t)):le(e,t)},ne=function(){var e=Object(p.a)(m.a.mark(function e(t,a,n,l){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null==a){e.next=14;break}if("DELETE"!==n){e.next=10;break}if(s.getProfile().id!==l){e.next=8;break}return e.next=5,s.saveProfile(null);case 5:return s.setSelectedValue(!1),e.next=8,s.userDataClear();case 8:e.next=13;break;case 10:if("POST"!==n){e.next=13;break}return e.next=13,s.saveProfile(t.data);case 13:a(t.data);case 14:case"end":return e.stop()}},e)}));return function(t,a,n,l){return e.apply(this,arguments)}}(),le=function(e,t){null!=t&&t(e)};function re(e,t){return P.a.create({baseURL:x.cloudBaseURL,method:t,url:e,headers:{"content-type":"application/json",Authorization:"Bearer "+s.getAppUserAccessToken()}})}var oe=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(g.a)(this,Object(b.a)(t).call(this,e))).handleUpdate=function(){var e={name:a.state.name};(new $).updateProfile(a.successCall,a.errorCall,e,a.state.id)},a.successCall=function(){var e;a.state.id===s.getProfile().id&&(e=s.getUserProfiles().filter(function(e){return e.id===a.state.id}),s.saveProfile(e[0])),a.callAlertTimer("success","Profile Updated Succesfully!")},a.errorCall=function(e){a.callAlertTimer("danger","Unable to Process Request, Please Try Again!! ")},a.callAlertTimer=function(e,t){a.setState({color:e,content:t}),setTimeout(function(){a.setState({name:"",color:"",updateSuccess:!0}),window.location.href="/profiles"},x.notificationMillis)},a.loadHeader=function(){return l.a.createElement(S.CardHeader,null,l.a.createElement("strong",null,"Profile"))},a.loadUpdateProfile=function(e,t,n){return l.a.createElement("div",{className:"animated fadeIn"},l.a.createElement(S.Card,null,a.loadHeader(),l.a.createElement("center",null,l.a.createElement(S.Alert,{color:t},n),l.a.createElement(S.FormGroup,null,l.a.createElement("h5",null,l.a.createElement("b",null,"EDIT PROFILE")),l.a.createElement(S.Col,{sm:"6"},l.a.createElement(S.Input,{type:"text",name:"profile name",value:e,style:{fontWeight:"bold",color:"#000000"},autoFocus:!0,onChange:function(e){a.setState({name:e.target.value})}})),l.a.createElement("br",null),l.a.createElement(S.Button,{color:"success",disabled:!e,onClick:a.handleUpdate},"Update  "),"\xa0\xa0\xa0",l.a.createElement(S.Button,{active:!0,color:"light","aria-pressed":"true",onClick:function(){a.setState({cancelUpdateProfile:!0})}},"Cancel")))))},a.state={id:e.id,name:e.name,color:"",content:"",updateSuccess:!1,cancelUpdateProfile:!1},a}return Object(h.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.state,t=e.name,a=e.color,n=e.content,r=e.updateSuccess,o=e.cancelUpdateProfile;return l.a.createElement("div",null,r||o?l.a.createElement(we,null):this.loadUpdateProfile(t,a,n))}}]),t}(n.Component),ce=a(12),ie={color:"#008000"},se={color:"#FF0000"},ue=function(e){function t(){return Object(f.a)(this,t),Object(g.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e={color:"#330561",fontWeight:"bold",textAlign:"left"};return l.a.createElement(S.Table,{size:"sm",hover:!0,striped:!0,bordered:!0,responsive:!0},l.a.createElement("thead",null,l.a.createElement("tr",{align:"center",style:{color:"#7E0462"}},l.a.createElement("th",null),l.a.createElement("th",null,"Free Version"),l.a.createElement("th",null,"Basic Version"),l.a.createElement("th",null,"Premium Version"))),l.a.createElement("tbody",{align:"center"},l.a.createElement("tr",null,l.a.createElement("td",{style:e},"Cost Per Month"),l.a.createElement("td",null,l.a.createElement(ce.j,null)),l.a.createElement("td",null,"\xa3 0.67"),l.a.createElement("td",null,"\xa3 0.99")),l.a.createElement("tr",null,l.a.createElement("td",{style:e},"Multi currency"),l.a.createElement("td",null,l.a.createElement(ce.e,{style:ie})),l.a.createElement("td",null,l.a.createElement(ce.e,{style:ie})),l.a.createElement("td",null,l.a.createElement(ce.e,{style:ie}))),l.a.createElement("tr",null,l.a.createElement("td",{style:e},"Multi Device"),l.a.createElement("td",null,"2"),l.a.createElement("td",null,l.a.createElement(ce.e,{style:ie})),l.a.createElement("td",null,l.a.createElement(ce.e,{style:ie}))),l.a.createElement("tr",null,l.a.createElement("td",{style:e},"Bills"),l.a.createElement("td",null,"300"),l.a.createElement("td",null,"Unlimited"),l.a.createElement("td",null,"Unlimited")),l.a.createElement("tr",null,l.a.createElement("td",{style:e},"Categories"),l.a.createElement("td",null,"70"),l.a.createElement("td",null,"Unlimited"),l.a.createElement("td",null,"Unlimited")),l.a.createElement("tr",null,l.a.createElement("td",{style:e},"Lables"),l.a.createElement("td",null,"5"),l.a.createElement("td",null,"Unlimited"),l.a.createElement("td",null,"Unlimited")),l.a.createElement("tr",null,l.a.createElement("td",{style:e},"Contacts"),l.a.createElement("td",null,"5"),l.a.createElement("td",null,"Unlimited"),l.a.createElement("td",null,"Unlimited")),l.a.createElement("tr",null,l.a.createElement("td",{style:e},"Recurring Bills"),l.a.createElement("td",null,l.a.createElement(ce.j,{style:se})),l.a.createElement("td",null,"Unlimited"),l.a.createElement("td",null,"Unlimited")),l.a.createElement("tr",null,l.a.createElement("td",{style:e},"Attachments"),l.a.createElement("td",null,l.a.createElement(ce.j,{style:se})),l.a.createElement("td",null,l.a.createElement(ce.j,{style:se})),l.a.createElement("td",null,l.a.createElement(ce.e,{style:ie}))),l.a.createElement("tr",null,l.a.createElement("td",{style:e},"Multi User"),l.a.createElement("td",null,l.a.createElement(ce.j,{style:se})),l.a.createElement("td",null,l.a.createElement(ce.j,{style:se})),l.a.createElement("td",null,l.a.createElement(ce.e,{style:ie}))),l.a.createElement("tr",null,l.a.createElement("td",{style:e},"Sharing"),l.a.createElement("td",null,l.a.createElement(ce.j,{style:se})),l.a.createElement("td",null,l.a.createElement(ce.j,{style:se})),l.a.createElement("td",null,l.a.createElement(ce.e,{style:ie}))),l.a.createElement("tr",null,l.a.createElement("td",{style:e},"Team Security"),l.a.createElement("td",null,l.a.createElement(ce.j,{style:se})),l.a.createElement("td",null,l.a.createElement(ce.j,{style:se})),l.a.createElement("td",null,l.a.createElement(ce.e,{style:ie}))),l.a.createElement("tr",null,l.a.createElement("td",{style:e},"AccessLevels"),l.a.createElement("td",null,l.a.createElement(ce.j,{style:se})),l.a.createElement("td",null,l.a.createElement(ce.j,{style:se})),l.a.createElement("td",null,l.a.createElement(ce.e,{style:ie})))))}}]),t}(l.a.Component),de=function(){function e(){Object(f.a)(this,e)}return Object(E.a)(e,[{key:"getProfileTypes",value:function(e,t){me(e,t,"/profile/types","GET")}}]),e}();function me(e,t,a,n,l){return pe.apply(this,arguments)}function pe(){return(pe=Object(p.a)(m.a.mark(function e(t,a,n,l,r){var o,c;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=be(n,l),e.prev=1,e.next=4,o.request();case 4:c=e.sent,Ee(c,t,l),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),fe(e.t0,a,n,l,r,t);case 11:case"end":return e.stop()}},e,null,[[1,8]])}))).apply(this,arguments)}var fe=function(e,t,a,n,l,r){0===e.request.status?ge(e,t):403===e.response.status||401===e.response.status?(new L).refresh(function(){me(r,t,a,n,l)},ge(e,t)):ge(e,t)},Ee=function(){var e=Object(p.a)(m.a.mark(function e(t,a){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a(t.data);case 1:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),ge=function(e,t){null!=t&&t(e)};function be(e,t){return P.a.create({baseURL:x.cloudBaseURL,method:t,url:e,headers:{"content-type":"application/json",Authorization:"Bearer "+s.getAppUserAccessToken()}})}var he=function(e){function t(){var e,a;Object(f.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(g.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",color:"",content:"",profileCreated:!1,cancelCreateProfile:!1,profileType:0,buttonText:"Create Free Profile",profileInfoTable:!1,action:"",comparisionText:"View Feature Comparision",profileTypes:[]},a.componentDidMount=function(){a.setState({action:s.getUser().action}),(new de).getProfileTypes(function(e){a.setState({profileTypes:e})},function(e){console.log("error",e)})},a.handleInput=function(e){a.setState(Object(k.a)({},e.target.name,e.target.value))},a.selectProfileType=function(){var e=Object(p.a)(m.a.mark(function e(t){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({profileType:t});case 2:a.profielTypeButtonText(t);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.profielTypeButtonText=function(){var e=Object(p.a)(m.a.mark(function e(t){var n,l;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n="Create Free Profile",0===(l=a.state.profileTypes).length){e.next=6;break}return e.next=5,l.filter(function(e){return e.type===t});case 5:n=e.sent;case 6:a.setState({buttonText:"Create "+n[0].name+" Profile"});case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.cancelCreateProfile=function(){a.setState({cancelCreateProfile:!0})},a.handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.name,l=t.profileType;if("VERIFY_EMAIL"!==t.action){var r={name:n,type:l};(new $).createProfile(a.successCall,a.errorCall,r)}else a.callAlertTimer("danger","First Please verify with the code sent to your Email.....")},a.successCall=function(){a.callAlertTimer("success","New Profile Created!!")},a.errorCall=function(e){a.state.profileType?a.callAlertTimer("danger","You need to purchase credits to create these Profiles, For more info View Feature Comparision....."):null!==s.getProfile()?a.callAlertTimer("danger","Sorry, You can't create another Profile....."):a.callAlertTimer("danger","Unable to process request, Please Try Again ...")},a.callAlertTimer=function(e,t){a.setState({color:e,content:t}),"success"===e&&setTimeout(function(){a.setState({content:"",color:"",name:"",profileCreated:!0}),window.location.href="/profiles"},x.apiTimeoutMillis)},a.profileViewTable=function(){var e=a.state.comparisionText;a.setState({profileInfoTable:!a.state.profileInfoTable}),"View Feature Comparision"===e?a.setState({comparisionText:"Hide Feature Comparision"}):a.setState({comparisionText:"View Feature Comparision"})},a.createProfile=function(e,t,n,r,o){return l.a.createElement("div",{className:"animated fadeIn"},l.a.createElement(S.Card,null,l.a.createElement(S.CardHeader,null,l.a.createElement("strong",null,"CREATE PROFILE")),l.a.createElement(S.CardBody,null,l.a.createElement("center",null,l.a.createElement("h5",null,l.a.createElement("b",null,"CHOOSE PROFILE TYPES")),l.a.createElement(S.Col,null,l.a.createElement(S.Alert,{color:e},a.state.content),"VERIFY_EMAIL"!==t&&a.createProfileTypes(o),a.loadActionsButton(t,n),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("h5",null,l.a.createElement("span",{onClick:a.profileViewTable,className:"float-right",style:{color:"#7E0462"}},l.a.createElement("u",null,a.state.comparisionText)))))," ",l.a.createElement("br",null),l.a.createElement("br",null),r&&l.a.createElement(ue,null))))},a.createProfileTypes=function(e){return l.a.createElement(S.Table,null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Type"),l.a.createElement("th",null,"Profile Type"),l.a.createElement("th",null,"Cost"),l.a.createElement("th",null,"Description"))),l.a.createElement("tbody",null,e))},a.loadActionsButton=function(e,t){var n="ADD_BILLING"===e?"/billing/address":"/billing/paymentHistory";return"VERIFY_EMAIL"===e?l.a.createElement(S.Alert,{color:"warning"},"Sorry you cannot Create Profile until you verify Your Email"):0!==t&&3!==t&&e?l.a.createElement(l.a.Fragment,null,l.a.createElement(S.Button,{color:"info"},l.a.createElement(D.a,{to:n,style:{color:"black"}}," ",e)),l.a.createElement(S.Button,{active:!0,color:"danger",style:{marginLeft:20},"aria-pressed":"true",onClick:a.cancelCreateProfile},"Cancel")):a.loadProfile()},a.loadProfile=function(){var e=a.state,t=e.name,n=e.buttonText;return l.a.createElement(l.a.Fragment,null,l.a.createElement(S.Col,{sm:"6"},l.a.createElement(S.Input,{name:"name",value:t,type:"text",placeholder:"Enter Profile name",autoFocus:!0,onChange:function(e){return a.handleInput(e)}})),l.a.createElement("br",null),l.a.createElement(S.Button,{color:"success",disabled:!t,onClick:function(e){return a.handleSubmit(e)}}," ",n," "),l.a.createElement(S.Button,{active:!0,color:"light",style:{marginLeft:20},"aria-pressed":"true",onClick:a.cancelCreateProfile},"Cancel"))},a}return Object(h.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.color,n=t.profileCreated,r=t.cancelCreateProfile,o=t.action,c=t.profileType,i=t.profileInfoTable,s=t.profileTypes.map(function(t){return l.a.createElement("tr",{key:t.type},l.a.createElement("th",null," ",l.a.createElement(S.Input,{type:"radio",name:"radio1",value:t.type,checked:t.type===c,onChange:function(){return e.selectProfileType(t.type)}})," "),l.a.createElement("th",null,t.name),l.a.createElement("th",null,t.cost),l.a.createElement("th",null,t.description))});return l.a.createElement("div",null,n||r?l.a.createElement(we,null):this.createProfile(a,o,c,i,s))}}]),t}(n.Component),ye={loadDeleting:function(e,t,a,n){return l.a.createElement("div",{className:"animated fadeIn"},l.a.createElement(S.Card,null,""===e?"":this.loadHeader(e),l.a.createElement(S.CardBody,null,l.a.createElement(S.Col,{sm:"12",md:{size:5,offset:4}}," ",""===a?t:l.a.createElement(S.Alert,{color:a}," ",n," ")," "))))},loadHeader:function(e){return l.a.createElement("div",{style:{padding:10}},l.a.createElement("center",null,l.a.createElement("strong",null," ",e," ")))},loadSpinner:function(e){return l.a.createElement("div",{className:"animated fadeIn"},l.a.createElement(S.Card,null,this.loadHeader(e),l.a.createElement("center",{style:{paddingTop:"20px"}},l.a.createElement(S.CardBody,null,l.a.createElement(I.a,{type:"TailSpin",color:"#2E86C1",height:60,width:60})))))},searchingFor:function(e){return function(t){var a="";return null!==t.childName&&(a+=t.childName.map(function(e){return e})),(t.name.toLowerCase()+a.toLowerCase()).includes(e.toLowerCase())||!e}},loadDropDown:function(e,t,a,n,r,o,c){return l.a.createElement(S.Dropdown,{isOpen:a,style:{marginTop:7},toggle:function(){n(t)},size:"sm"},l.a.createElement(S.DropdownToggle,{tag:"span",onClick:function(){n(t)},"data-toggle":"dropdown","aria-expanded":a},l.a.createElement(ce.g,{style:{marginLeft:10,marginRight:10}})),l.a.createElement(S.DropdownMenu,null,l.a.createElement(S.DropdownItem,{onClick:function(){c(e)}}," Update "),l.a.createElement(S.DropdownItem,{onClick:function(){r(e),o()}}," Delete")))},loadItems:function(e,t,a,n,r,o,c,i,s,u,d,m,p,f){var E,g=this,b="Search "+(E=void 0!==e[0].subLabels?"Labels":"Categories")+"...";return l.a.createElement("div",{className:"animated fadeIn"},l.a.createElement(S.Card,null,l.a.createElement(S.CardHeader,{style:{padding:"10px 10px 0px 10px"}},l.a.createElement(S.Row,{form:!0},l.a.createElement(S.Col,{md:3,style:{marginTop:"10px"}},l.a.createElement("strong",null,E," : ",e.length)),l.a.createElement(S.Col,{md:7,className:"shadow p-0 mb-3 bg-white rounded"},l.a.createElement(S.InputGroup,null,l.a.createElement(S.Input,{type:"search",className:"float-right",style:{width:"20%"},onChange:function(e){return t(e)},placeholder:b}),l.a.createElement(S.InputGroupAddon,{addonType:"append"},l.a.createElement(S.InputGroupText,{className:"dark"},l.a.createElement(ce.o,null))))),l.a.createElement(S.Col,{md:2},l.a.createElement(S.Button,{color:"success",className:"float-right",onClick:n}," + ADD ")))),l.a.createElement("div",{style:{margin:10,paddingLeft:50}},l.a.createElement(S.Alert,{isOpen:r,color:void 0===p||void 0===f?"":p},f),e.filter(this.searchingFor(a)).map(function(e,t){return g.loadSingleItem(e,t,o,c,i,s,u,d,m)})," ")))},loadSingleItem:function(e,t,a,n,r,o,c,i,s){var u={flex:1,display:"flex",alignItems:"center",marginLeft:"-10"},d={flex:1,width:"100px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",paddingLeft:10};return l.a.createElement("div",{className:"list-group",key:t},l.a.createElement("div",{className:"list-group-item",style:{paddingTop:1,padding:7}},l.a.createElement(S.Row,null,l.a.createElement(S.Col,null,this.loadAvatar_DisplayName(e,t,u,d,a)),l.a.createElement(S.Col,{sm:1,md:1,lg:1,xl:1},this.loadDropDown(e,t,i[t],s,r,o,c)))),l.a.createElement("div",{style:{marginBottom:1.5}}),this.loadCollapse(e,t,n,r,o,c,{marginLeft:50,paddingTop:4,paddingBottom:0,paddingLeft:5,height:50},u,d,a),l.a.createElement("div",{style:{marginTop:1}}))},loadAvatar_DisplayName:function(e,t,a,n,r){return null!==e.parentId?l.a.createElement("span",{style:a}," ",this.loadAvatar(e,t,n,r)," "):l.a.createElement("span",{style:a,onClick:function(){r(t)}}," ",this.loadAvatar(e,t,n,r)," ")},loadAvatar:function(e,t,a,n){return l.a.createElement(l.a.Fragment,null,l.a.createElement(X.a,{name:e.name.charAt(0),color:null===e.color||""===e.color?"#000000":e.color,size:"40",square:!0}),l.a.createElement("div",{style:a},"\xa0\xa0",e.name,void 0!==e.subCategories?null!==e.subCategories?l.a.createElement("span",null,l.a.createElement(ce.b,{style:{marginLeft:8},onClick:function(){n(t)}})):"":void 0!==e.subLabels&&null!==e.subLabels?l.a.createElement("span",null,l.a.createElement(ce.b,{style:{marginLeft:8},onClick:function(){n(t)}})):""))},loadCollapse:function(e,t,a,n,r,o,c,i,s,u){var d=this;return l.a.createElement(S.Collapse,{isOpen:a[t]},void 0!==e.subCategories?null!==e.subCategories?e.subCategories.map(function(e,t){return d.loadSubItem(e,t,c,i,s,n,r,o,u)}):"":void 0!==e.subLabels&&null!==e.subLabels?e.subLabels.map(function(e,t){return d.loadSubItem(e,t,c,i,s,n,r,o,u)}):"")},loadSubItem:function(e,t,a,n,r,o,c,i){return l.a.createElement("span",{className:"list-group-item",style:a,key:t},l.a.createElement(S.Row,null,l.a.createElement(S.Col,null,this.loadAvatar_DisplayName(e,t,n,r)),l.a.createElement(S.Col,null," ",l.a.createElement(ce.q,{className:"float-right",color:"red",style:{marginTop:20,marginLeft:10,marginRight:20},onClick:function(){o(e),c()}}),l.a.createElement(ce.l,{size:12,className:"float-right",color:"blue",style:{marginTop:20},onClick:function(){return i(e)}}))),l.a.createElement("br",null))}},Ce=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(g.a)(this,Object(b.a)(t).call(this,e))).componentDidMount=function(){(new $).deleteProfile(a.successCall,a.errorCall,a.state.id)},a.successCall=function(){a.callAlertTimer("success","Profile Deleted Successfully!  ")},a.errorCall=function(){a.callAlertTimer("danger","Unable to Process Request, Please Try Again!! ")},a.callAlertTimer=function(e,t){a.setState({color:e,content:t}),setTimeout(function(){a.setState({color:"",content:"",profileDeleted:!0}),window.location.reload()},x.apiTimeoutMillis)},a.state={id:a.props.id,profileDeleted:!1,color:"warning",content:"profile Deleting......"},a}return Object(h.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.state,t=e.profileDeleted,a=e.content,n=e.color;return l.a.createElement("div",null,t?l.a.createElement(we,null):ye.loadDeleting("Profile","",n,a))}}]),t}(n.Component),ve=function(e){return l.a.createElement(S.Modal,{isOpen:e.danger,toggle:e.toggleDanger,style:{paddingTop:"20%"},backdrop:!0},l.a.createElement(S.ModalHeader,{toggle:e.toggleDanger},e.headerMessage),l.a.createElement(S.ModalBody,null,e.bodyMessage),l.a.createElement(S.ModalFooter,null,l.a.createElement(S.Button,{color:"danger",onClick:e.delete},"Delete"),l.a.createElement(S.Button,{color:"secondary",onClick:e.cancel},"Cancel")))},Se=a(55),Ae=function(){var e=Object(n.useState)(!1),t=Object(Se.a)(e,2),a=t[0],r=t[1];return a?l.a.createElement(he,null):l.a.createElement("div",{className:"animated fadeIn"},l.a.createElement(S.Card,null,l.a.createElement(S.CardHeader,null," ",l.a.createElement(S.Button,{color:"info",onClick:function(){r(a=!a)},className:"float-right"}," + Create Profile")," "),l.a.createElement("center",{style:{paddingTop:"20px"}},l.a.createElement(S.CardBody,null,l.a.createElement("h5",null,l.a.createElement("b",null,"You haven't created any Profile yet. So Please Create Profile... "))," "))))},we=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(g.a)(this,Object(b.a)(t).call(this,e))).successCall=function(){var e=Object(p.a)(m.a.mark(function e(t){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:null===t?a.setState({profiles:[],spinner:!0}):a.setState({profiles:t,spinner:!0});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.errorCall=function(e){a.setState({visible:!0}),console.log("Internal Server Error")},a.updateProfile=function(e,t){a.setState({updateProfile:!0,id:e,name:t})},a.deleteProfile=function(){a.setState({deleteProfile:!0})},a.callCreateProfile=function(){a.setState({createProfile:!0})},a.toggleDanger=function(){a.setState({danger:!a.state.danger})},a.loadHeader=function(){return l.a.createElement(S.CardHeader,{style:{paddingBottom:"20px"}},l.a.createElement("strong",null,"PROFILES"),l.a.createElement(S.Button,{color:"success",className:"float-right",onClick:a.callCreateProfile}," + Create Profile "))},a.loadSpinner=function(){return l.a.createElement("div",{className:"animated fadeIn"},l.a.createElement(S.Card,null,l.a.createElement("center",{style:{paddingTop:"20px"}},a.loadHeader(),l.a.createElement(S.CardBody,null,a.state.visible&&l.a.createElement(S.Alert,{color:"danger"},"Unable to Process your Request, please try Again..."),l.a.createElement(I.a,{type:"TailSpin",color:"#2E86C1",height:60,width:60})))))},a.showProfile=function(e){return l.a.createElement("div",{className:"animated fadeIn"},a.loadHeader(),l.a.createElement(S.CardBody,null,l.a.createElement(S.Table,{bordered:!0},l.a.createElement("thead",null,l.a.createElement("tr",{style:{backgroundColor:"#DEE9F2  ",color:"#000000"}},l.a.createElement("th",null,"Profile Name"),l.a.createElement("th",null,"Profile Type "),l.a.createElement("th",null,"Actions"))),l.a.createElement("tbody",{style:{paddingBottom:"20px"}},e.map(function(e,t){return a.loadSingleProfile(e,t)})))))},a.selectProfile=function(e){a.setState({id:e,selectProfile:!0})},a.loadSingleProfile=function(e,t){return l.a.createElement("tr",{key:t},l.a.createElement("td",null,l.a.createElement("b",{onClick:function(){a.selectProfile(e.id)}},l.a.createElement(X.a,{name:e.name.charAt(0),size:"40",round:!0})," \xa0\xa0",e.name)," "),l.a.createElement("td",{style:{paddingTop:18}},a.loadProfileType(e.type)," "),l.a.createElement("td",null,l.a.createElement(S.Button,{style:{backgroundColor:"#43A432",color:"#F0F3F4"},onClick:function(){a.updateProfile(e.id,e.name)}},"Update"),l.a.createElement(S.Button,{color:"danger",onClick:function(){a.setState({id:e.id}),a.toggleDanger()},style:{marginLeft:10}},"Delete")))},a.loadProfileType=function(e){var t="";switch(e){case 1:t="Basic Profile";break;case 2:t="Premium Profile";break;case 3:t="Free Business Profile";break;case 4:t="Business Profile";break;case 5:t="CRM Profile";break;case 6:t="Business + CRM Profile";break;default:t="Free Profile"}return t},a.loadDeleteProfile=function(){return l.a.createElement(ve,{danger:a.state.danger,headerMessage:"Delete Profile",bodyMessage:"Are You Sure Want to Delete Profile?",toggleDanger:a.toggleDanger,delete:a.deleteProfile,cancel:a.toggleDanger})},a.state={profiles:[],id:0,name:"",updateProfile:!1,deleteProfile:!1,createProfile:!1,danger:!1,spinner:!1,visible:!1,selectProfile:!1},a}return Object(h.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){(new $).getProfiles(this.successCall,this.errorCall)}},{key:"render",value:function(){var e=this.state,t=e.profiles,a=e.id,n=e.createProfile,r=e.updateProfile,o=e.deleteProfile,c=e.selectProfile,i=e.name,s=e.spinner;if(0!==t.length||n){if(c){var u="/profiles/"+a;return l.a.createElement(S.Container,null," ",l.a.createElement(K.a,{push:!0,to:u}))}return n?l.a.createElement(S.Container,null," ",l.a.createElement(he,null)," "):r?l.a.createElement(S.Container,null," ",l.a.createElement(oe,{id:a,name:i})," "):o?l.a.createElement(S.Container,null," ",l.a.createElement(Ce,{id:a})," "):l.a.createElement("div",null,this.showProfile(t),this.loadDeleteProfile())}return l.a.createElement("div",null,0!==t.length||n||s?l.a.createElement(Ae,null):this.loadSpinner())}}]),t}(n.Component),ke={items:[{name:"Dashboard",url:"/dashboard",icon:"cui-speedometer"},{name:"Labels",url:"/label/labels",icon:"cui-align-center"},{name:"Categories",url:"/listCategories",icon:"cui-layers"},{name:"Contacts",url:"/contact/viewContacts",icon:"cui-phone"},{name:"Bills  ",url:"/listBills",icon:"cui-note"}]},Oe={items:[{name:"Manage Profiles",url:"/profiles",icon:"cui-settings"},{name:"Create Profile",url:"/createProfile",icon:"cui-pencil"}]},Ie=a(13),Te=function(){function e(){Object(f.a)(this,e)}return Object(E.a)(e,[{key:"createLabel",value:function(e,t,a,n){je(e,t,a+"/labels","POST",a,n)}},{key:"getlabels",value:function(e,t,a){null===s.getLabels()?je(e,t,a+"/labels?sublabels=true","GET"):e(s.getLabels())}},{key:"getlabelsById",value:function(e,t,a,n){je(e,t,a+"/labels/"+n,"GET")}},{key:"getSublabels",value:function(e,t,a,n){null===s.getLabels()||"True"===n?je(e,t,a+"/labels?sublabels=true","GET"):e(s.getLabels())}},{key:"updateLabel",value:function(e,t,a,n,l){je(e,t,n+"/labels/"+l,"PUT",n,a)}},{key:"deleteLabel",value:function(e,t,a,n){je(e,t,a+"/labels/"+n,"DELETE",a)}}]),e}(),De=Te;function je(e,t,a,n,l,r){return Pe.apply(this,arguments)}function Pe(){return(Pe=Object(p.a)(m.a.mark(function e(t,a,n,l,r,o){var c,i;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(c=Ue(n,l))){e.next=19;break}if(e.prev=2,null!==o){e.next=9;break}return e.next=6,c.request();case 6:i=e.sent,e.next=12;break;case 9:return e.next=11,c.request({data:o});case 11:i=e.sent;case 12:"GET"===l?s.storeLabels(i.data):(new Te).getSublabels(t,a,r,"True"),Le(i,t),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),xe(r,e.t0,a,n,l,o,t);case 19:case"end":return e.stop()}},e,null,[[2,16]])}))).apply(this,arguments)}var xe=function(e,t,a,n,l,r,o){0===t.request.status?(new Te).getSublabels(o,a,e,"True"):403===t.response.status||401===t.response.status?(new L).refresh(function(){je(o,a,n,l,r)},Be(t,a)):Be(t,a)},Le=function(e,t){null!=t&&t(e.data)},Be=function(e,t){null!=t&&t(e)};function Ue(e,t){var a=s.getProfile(),n=null;return null===a&&void 0===a&&""===a||(n=P.a.create({baseURL:a.url+"/profile/",method:t,url:e,headers:{"content-type":"application/json",Authorization:"Bearer "+s.getAppUserAccessToken()}})),n}var Ne=a(16),Fe=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(g.a)(this,Object(b.a)(t).call(this,e))).handleUpdate=function(){var e=a.state,t=e.userColor,n=e.name,l=e.notes,r=e.parentId,o=e.version,c=e.profileId,i=e.id,s={color:t,name:n,notes:l,parentId:r,version:o};a.setState({doubleClick:!0}),(new De).updateLabel(a.SuccessCall,a.errorCall,s,c,i)},a.cancelUpdateLabel=function(){a.setState({cancelUpdateLabel:!0})},a.SuccessCall=function(e){a.callAlertTimer("success","Label Updated Successfully... ")},a.errorCall=function(e){a.callAlertTimer("danger","Unable to Process Your Request, Please Try Again... ")},a.callAlertTimer=function(e,t){a.setState({alertColor:e,content:t}),setTimeout(function(){a.setState({name:"",alertColor:"",updateSuccess:!0})},x.notificationMillis)},a.changeParentId=function(){a.setState({parentId:""})},a.toggle=function(){a.setState({collapse:!a.state.collapse})},a.loadUpdatingLable=function(e,t,n,r,o){return l.a.createElement("div",{className:"animated fadeIn"},l.a.createElement(S.Card,null,l.a.createElement(S.CardHeader,null,l.a.createElement("strong",null,"Label")," "),l.a.createElement(S.Col,{sm:"12",md:{size:5,offset:4}},l.a.createElement("br",null),l.a.createElement(S.Alert,{color:n},r),l.a.createElement(S.FormGroup,null,l.a.createElement("h5",null,l.a.createElement("b",null,"EDIT LABEL")),l.a.createElement(S.Input,{type:"text",name:"Label name",value:e,style:{fontWeight:"bold",color:"#000000"},autoFocus:!0,onChange:function(e){a.setState({name:e.target.value})}}),l.a.createElement("br",null),l.a.createElement(S.Input,{type:"text",name:"Label Notes",placeholder:"Label notes",value:t,style:{fontWeight:"bold",color:"#000000"},onChange:function(e){a.setState({notes:e.target.value})}}),l.a.createElement("br",null),l.a.createElement(S.Input,{type:"color",name:"Label Color",list:"Colors",value:o,style:{fontWeight:"bold",color:"#000000"},onChange:function(e){a.setState({userColor:e.target.value})}}),l.a.createElement("br",null),null!==a.state.parentId?null!==a.props.label.subLabels?"":a.loadSublabelMakeParentLabel():a.state.labels.length<=1?"":null!==a.props.label.subLabels?"":a.loadParentLableMakeSubLable(),a.state.labels.length<=1?"":a.loadCollapse(),l.a.createElement("br",null),l.a.createElement(S.Button,{color:"success",disabled:!e&&a.state.doubleClick,onClick:a.handleUpdate},"Update  "),"\xa0\xa0\xa0",l.a.createElement(S.Button,{active:!0,color:"light","aria-pressed":"true",onClick:a.cancelUpdateLabel},"Cancel")))))},a.loadSublabelMakeParentLabel=function(){return l.a.createElement(S.FormGroup,{check:!0,className:"checkbox"},l.a.createElement(S.Input,{className:"form-check-input",type:"checkbox",onClick:a.changeParentId,value:" "}),l.a.createElement(S.Label,{check:!0,className:"form-check-label",htmlFor:"checkbox1"}," \xa0Make as Parent-Label"))},a.loadParentLableMakeSubLable=function(){return l.a.createElement(S.FormGroup,{check:!0,className:"checkbox"},l.a.createElement(S.Input,{className:"form-check-input",type:"checkbox",onClick:a.toggle,value:" "}),l.a.createElement(S.Label,{check:!0,className:"form-check-label",htmlFor:"checkbox1"}," \xa0Nest label under"))},a.loadCollapse=function(){return l.a.createElement(S.Collapse,{isOpen:a.state.collapse},l.a.createElement(S.Input,{type:"select",name:"selectLg",id:"selectLg",onChange:function(e){return a.setState({parentId:e.target.value})},bsSize:"lg"},l.a.createElement("option",{value:"null"},"Please select Parent Lables"),a.state.labels.map(function(e){return a.state.id===e.id?"":l.a.createElement("option",{key:e.id,value:e.id},e.name)})))},a.state={id:e.label.id,name:e.label.name,notes:e.label.notes,version:e.label.version,userColor:e.label.color,parentId:e.label.parentId,profileId:e.pid,labels:e.lables,alertColor:"#000000",content:"",updateSuccess:!1,collapse:!1,cancelUpdateLabel:!1,doubleClick:!1},a}return Object(h.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.state,t=e.name,a=e.notes,n=e.alertColor,r=e.content,o=e.updateSuccess,c=e.userColor;return e.cancelUpdateLabel?l.a.createElement(Me,null):l.a.createElement("div",null,o?l.a.createElement(Me,null):this.loadUpdatingLable(t,a,n,r,c))}}]),t}(n.Component),Re=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(g.a)(this,Object(b.a)(t).call(this,e))).componentDidMount=Object(p.a)(m.a.mark(function e(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new De).deleteLabel(a.successCall,a.errorCall,a.state.profileId,a.state.id);case 2:case"end":return e.stop()}},e)})),a.successCall=function(){a.callAlertTimer("success","Label Deleted Successfully....")},a.errorCall=function(){a.callAlertTimer("danger","Unable to Process Request, Please Try Again...  ")},a.callAlertTimer=function(e,t){a.setState({color:e,content:t}),setTimeout(function(){a.setState({color:"",content:"",labelDeleted:!0})},x.notificationMillis)},a.state={id:a.props.id,labelDeleted:!1,color:"",content:"Deleting Label.....",profileId:a.props.pid},a}return Object(h.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.state,t=e.labelDeleted,a=e.content,n=e.color;return l.a.createElement("div",null,t?l.a.createElement(Me,null):ye.loadDeleting("Label","",n,a))}}]),t}(n.Component),Me=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(g.a)(this,Object(b.a)(t).call(this,e))).componentDidMount=function(){a.setProfileId()},a.setProfileId=Object(p.a)(m.a.mark(function e(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null===s.getProfile()||0===s.getProfile().length){e.next=4;break}return e.next=3,a.setState({profileId:s.getProfile().id});case 3:a.getLabels();case 4:case"end":return e.stop()}},e)})),a.getLabels=function(){(new De).getSublabels(a.successCall,a.errorCall,a.state.profileId)},a.successCall=function(){var e=Object(p.a)(m.a.mark(function e(t){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==[]){e.next=4;break}a.setState({labels:[]}),e.next=9;break;case 4:return e.next=6,a.setState({spinner:!0});case 6:return e.next=8,a.labelsSet(t);case 8:a.loadCollapse();case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.labelsSet=function(e){var t=e.map(function(e,t){return Object(Ie.a)({},e,{childName:a.displaySubLabelName(e)})});a.setState({labels:t})},a.displaySubLabelName=function(e){return null!==e.subLabels?e.subLabels.map(function(e){return e.name}):null},a.errorCall=function(e){a.setState({visible:!0})},a.loadCollapse=function(){a.state.labels.map(function(e){return a.setState(function(e){return{accordion:[].concat(Object(Ne.a)(e.accordion),[!1]),hoverAccord:[].concat(Object(Ne.a)(e.hoverAccord),[!1]),dropdownOpen:[].concat(Object(Ne.a)(e.dropdownOpen),[!1])}})})},a.toggleDanger=function(){a.setState({danger:!a.state.danger})},a.updateLabel=function(e){a.setState({updateLabel:!0,requiredLabel:e})},a.deleteLabel=function(){a.setState({deleteLabel:!0})},a.toggleAccordion=function(e){var t=a.state.accordion.map(function(t,a){return e===a&&!t});a.setState({accordion:t})},a.toggleDropDown=function(e){var t=a.state.dropdownOpen.map(function(t,a){return e===a&&!t});a.setState({dropdownOpen:t})},a.hoverAccordion=function(e){var t=a.state.hoverAccord.map(function(t,a){return e===a&&!t});a.setState({hoverAccord:t})},a.onHover=function(e,t){a.setState({onHover:!0}),a.hoverAccordion(t)},a.onHoverOff=function(e,t){a.setState({onHover:!1}),a.hoverAccordion(t)},a.setSearch=function(e){a.setState({search:e.target.value})},a.setLabelId=function(e){a.setState({id:e.id})},a.callCreateLabel=function(){a.setState({createLabel:!0})},a.loadHeader=function(){return l.a.createElement(S.CardHeader,null,l.a.createElement("strong",null,"Label"),l.a.createElement(S.Button,{color:"success",className:"float-right",onClick:a.callCreateLabel}," + Create Label "))},a.loadSpinner=function(){return l.a.createElement("div",{className:"animated fadeIn"},l.a.createElement(S.Card,null,a.loadHeader(),l.a.createElement("center",{style:{paddingTop:"20px"}},l.a.createElement(S.CardBody,null,l.a.createElement(I.a,{type:"TailSpin",color:"#2E86C1",height:60,width:60})))))},a.loadNotLabel=function(){return l.a.createElement("div",{className:"animated fadeIn"},l.a.createElement(S.Card,null,a.loadHeader(),l.a.createElement("center",{style:{paddingTop:"20px"}},l.a.createElement(S.CardBody,null," ",l.a.createElement("h5",null,l.a.createElement("b",null,"You haven't created any Lables yet... ")),l.a.createElement("br",null)," "))))},a.loadShowLabel=function(e,t,n){return ye.loadItems(t,a.setSearch,n,a.callCreateLabel,e,a.toggleAccordion,a.state.accordion,a.setLabelId,a.toggleDanger,a.updateLabel,a.state.dropdownOpen,a.toggleDropDown)},a.loadDeleteLabel=function(){return l.a.createElement(ve,{danger:a.state.danger,headerMessage:"Delete Label",bodyMessage:"Are You Sure Want to Delete Label?",toggleDanger:a.toggleDanger,delete:a.deleteLabel,cancel:a.toggleDanger})},a.loadDropDown=function(e,t){return ye.loadDropDown(e,t,a.state.dropdownOpen[t],a.toggleDropDown,a.updateLabel,a.setLabelId,a.toggleDanger)},a.state={labels:[],requiredLabel:[],id:0,name:"",createLabel:!1,visible:!1,updateLabel:!1,deleteLabel:!1,profileId:"",accordion:[],danger:!1,dropdownOpen:[],onHover:!1,hoverAccord:[],spinner:!1,search:""},a}return Object(h.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.state,t=e.labels,a=e.createLabel,n=e.updateLabel,r=e.id,o=e.deleteLabel,c=e.visible,i=e.profileId,u=e.requiredLabel,d=e.spinner,m=e.search;return null===s.getProfile()||0===s.getProfile().length?l.a.createElement(Ae,null):0!==t.length||a?a?l.a.createElement(qe,{pid:i,label:t}):n?l.a.createElement(Fe,{pid:i,label:u,lables:t}):o?l.a.createElement(Re,{id:r,pid:i}):l.a.createElement("div",null,this.loadShowLabel(c,t,m),this.loadDeleteLabel()):l.a.createElement("div",null,0!==t.length||a||d?this.loadNotLabel():this.loadSpinner())}}]),t}(n.Component),qe=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(g.a)(this,Object(b.a)(t).call(this,e))).successCall=function(e){e===[]?a.setState({labels:[0]}):a.setState({labels:e})},a.handleSubmitValue=function(e,t,n){0===t.length&&a.handlePostData(e,n)},a.cancelCreateLabel=function(){a.setState({cancelCreateLabel:!0})},a.handlePostData=function(){var e=Object(p.a)(m.a.mark(function e(t,n){var l;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({doubleClick:!0}),t.persist(),l=Object(Ie.a)({},n,{parentId:a.state.parentId}),e.next=5,(new De).createLabel(a.successCreate,a.errorCall,a.state.profileId,l);case 5:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.successCreate=function(e){a.callAlertTimer("success","New Label Created....")},a.errorCall=function(e){a.callAlertTimer("danger","Unable to Process Request, Please try again! ")},a.callAlertTimer=function(e,t){a.setState({alertColor:e,content:t}),setTimeout(function(){a.setState({name:"",content:"",alertColor:"",labelCreated:!0})},x.notificationMillis)},a.toggle=function(){a.setState({collapse:!a.state.collapse})},a.loadCreatingLable=function(e,t,n){return l.a.createElement("div",{className:"animated fadeIn"},l.a.createElement(S.Card,null,l.a.createElement(S.CardHeader,null,l.a.createElement("strong",null,"Label")),l.a.createElement(S.Col,{sm:"12",md:{size:5,offset:4}},l.a.createElement("br",null),""===e?"":l.a.createElement(S.Alert,{color:e},t),l.a.createElement("h5",null,l.a.createElement("b",null,"CREATE LABEL")),l.a.createElement(Q.AvForm,{onSubmit:a.handleSubmitValue},l.a.createElement(Q.AvField,{name:"name",type:"text",errorMessage:"Label Name Required",placeholder:"Enter Label name",required:!0}),l.a.createElement(Q.AvField,{name:"notes",value:a.state.notes,type:"text",placeholder:"Enter Label notes"}),l.a.createElement(Q.AvField,{name:"color",type:"color",list:"colors",placeholder:"Enter Label Color"}),0!==a.state.labels.length?l.a.createElement(S.FormGroup,{check:!0,className:"checkbox"},l.a.createElement(S.Input,{className:"form-check-input",type:"checkbox",onClick:a.toggle,value:" "}),l.a.createElement(S.Label,{check:!0,className:"form-check-label",htmlFor:"checkbox1"}," \xa0Nest label under ")):"",l.a.createElement("br",null),a.loadCollapse(),l.a.createElement("br",null),l.a.createElement(S.FormGroup,null,l.a.createElement(S.Button,{color:"primary",disabled:n}," Save"),"\xa0\xa0\xa0",l.a.createElement(S.Button,{className:"label",active:!0,color:"light",type:"button","aria-pressed":"true",onClick:a.cancelCreateLabel},"Cancel"))))))},a.loadCollapse=function(){var e=a.state,t=e.collapse,n=e.labels;return l.a.createElement(S.Collapse,{isOpen:t},l.a.createElement(S.Input,{type:"select",name:"selectLg",id:"selectLg",onChange:function(e){return a.setState({parentId:e.target.value})},bsSize:"lg"},l.a.createElement("option",{value:"null"},"Please select Parent Lables"),0===n.length?"":n.map(function(e,t){return l.a.createElement("option",{key:t,value:e.id},e.name)})))},a.state={labels:e.label,parentId:"",alertColor:"",content:"",labelCreated:!1,collapse:!1,profileId:e.pid,cancelCreateLabel:!1,doubleClick:!1},a}return Object(h.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.state,t=e.alertColor,a=e.content,n=e.cancelCreateLabel,r=e.doubleClick;return n?l.a.createElement(Me,null):l.a.createElement("div",null,this.state.labelCreated?l.a.createElement(Me,null):this.loadCreatingLable(t,a,r))}}]),t}(n.Component),He=function(){function e(){Object(f.a)(this,e)}return Object(E.a)(e,[{key:"createCategory",value:function(e,t,a,n){Ve(e,t,a+"/categories","POST",a,n)}},{key:"getCategories",value:function(e,t,a,n){null===s.getCategories()||"true"===n?Ve(e,t,a+"/categories?subcategories=true","GET",a):e(s.getCategories())}},{key:"getCategoriesById",value:function(e,t,a,n){Ve(e,t,a+"/categories/"+n,"GET",a)}},{key:"updateCategory",value:function(e,t,a,n,l){Ve(e,t,n+"/categories/"+l,"PUT",n,a)}},{key:"deleteCategory",value:function(e,t,a,n){Ve(e,t,a+"/categories/"+n,"DELETE",a)}}]),e}(),Ge=He;function Ve(e,t,a,n,l,r){return Ye.apply(this,arguments)}function Ye(){return(Ye=Object(p.a)(m.a.mark(function e(t,a,n,l,r,o){var c,i;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(c=Ke(n,l),e.prev=1,null!==o){e.next=8;break}return e.next=5,c.request();case 5:i=e.sent,e.next=11;break;case 8:return e.next=10,c.request({data:o});case 10:i=e.sent;case 11:"GET"===l?s.saveCategories(i.data):(new He).getCategories(t,a,r,"true"),We(i,t),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),ze(e.t0,a,n,l,o,t);case 18:case"end":return e.stop()}},e,null,[[1,15]])}))).apply(this,arguments)}var ze=function(e,t,a,n,l,r){0===e.request.status?Je(e,t):401===e.response.status||403===e.response.status?(new L).refresh(function(){return Ve(r,t,a,n,l)},Je(e,t)):Je(e,t)},We=function(e,t){null!=t&&t(e.data)},Je=function(e,t){null!=t&&t(e)};function Ke(e,t){var a=s.getProfile();return P.a.create({baseURL:a.url+"/profile/",method:t,url:e,headers:{"content-type":"application/json",Authorization:"Bearer "+s.getAppUserAccessToken()}})}var Qe,Ze=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(g.a)(this,Object(b.a)(t).call(this,e))).handleInput=function(e){a.setState(Object(k.a)({},e.target.name,e.target.value))},a.handleSubmitValue=function(e,t,n){t.length,a.handlePostData(e,n)},a.handlePostData=function(){var e=Object(p.a)(m.a.mark(function e(t,n){var l;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({doubleClick:!0}),e.next=3,a.generateCode();case 3:l=Object(Ie.a)({},n,{parentId:a.state.parentId,code:a.state.code}),(new Ge).createCategory(a.successCall,a.errorCall,a.state.profileId,l);case 5:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.cancelAddCategory=function(){a.setState({cancelAddCategory:!0})},a.successCall=function(){a.callAlertTimer("success","Category Added !")},a.errorCall=function(e){a.callAlertTimer("danger","Unable to Process Request, Please Try Again")},a.toggle=function(){a.setState({collapse:!a.state.collapse})},a.callAlertTimer=function(e,t){a.setState({alertColor:e,content:t}),setTimeout(function(){a.setState({categoryCreated:!0})},x.notificationMillis)},a.generateCode=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxys0123456789",t=e.length,n=0,l="#";n<3;n++)l+=e.charAt(Math.floor(Math.random()*t));a.setState({code:l})},a.loadAddingCategory=function(){var e=a.state,t=e.alertColor,n=e.content,r=e.doubleClick,o=e.collapse,c=e.categories;return l.a.createElement(S.Card,{style:{width:"100%"}},l.a.createElement(S.CardHeader,null,l.a.createElement("strong",null,"Category")),l.a.createElement("br",null),l.a.createElement(S.Col,{sm:"12",md:{size:5,offset:4}},l.a.createElement(S.Alert,{color:t},n),l.a.createElement("h5",null,l.a.createElement("b",null,"CREATE CATEGORY")),l.a.createElement("br",null),l.a.createElement(Q.AvForm,{onSubmit:a.handleSubmitValue},l.a.createElement(Q.AvField,{name:"name",type:"text",errorMessage:"Category Name Required",placeholder:"Enter Category name",required:!0}),l.a.createElement(Q.AvField,{name:"color",type:"color",list:"colors",placeholder:"Enter Category Color"}),l.a.createElement(S.FormGroup,{check:!0,className:"checkbox"},l.a.createElement(S.Input,{className:"form-check-input",type:"checkbox",onClick:a.toggle,value:" "}),l.a.createElement(S.Label,{check:!0,className:"form-check-label",htmlFor:"checkbox1"}," \xa0Nest Category under ")),l.a.createElement("br",null),l.a.createElement(S.Collapse,{isOpen:o},l.a.createElement(S.Input,{type:"select",name:"parentId",id:"exampleSelect",onChange:function(e){a.handleInput(e)}},c.map(function(e,t){return l.a.createElement("option",{key:t,value:e.id},e.name)}))),l.a.createElement("br",null),l.a.createElement(S.FormGroup,null,l.a.createElement(S.Button,{color:"info",disabled:r}," Save ")," \xa0\xa0",l.a.createElement(S.Button,{active:!0,color:"light",type:"button","aria-pressed":"true",onClick:a.cancelAddCategory},"Cancel")))))},a.state={profileId:e.id,categories:e.category,parentId:0,name:"",userToken:"",color:"",code:"",alertColor:"",content:"",collapse:!1,categoryCreated:!1,cancelAddCategory:!1,doubleClick:!1},a}return Object(h.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){this.setState({userToken:s.getAppUserAccessToken()})}},{key:"render",value:function(){var e=this.state,t=e.cancelAddCategory,a=e.categoryCreated;return t?l.a.createElement($e,null):l.a.createElement("div",null,a?l.a.createElement($e,null):this.loadAddingCategory())}}]),t}(n.Component),Xe=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(g.a)(this,Object(b.a)(t).call(this,e))).handleUpdate=Object(p.a)(m.a.mark(function e(){var t,n,l,r,o,c,i,s,u;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state,n=t.categoryId,l=t.profileId,r=t.version,o=t.code,c=t.categoryColor,i=t.updateCategoryName,s=t.parentId,u={name:i,color:c,code:o,parentId:""===s?a.props.category.parentId:s,version:r},e.next=4,(new Ge).updateCategory(a.successCall,a.errorCall,u,l,n);case 4:case"end":return e.stop()}},e)})),a.cancelUpdateCategory=function(){a.setState({cancelUpdateCategory:!0})},a.successCall=function(){setTimeout(function(){a.callAlertTimer("success","Category Updated!")},x.notificationMillis)},a.errorCall=function(e){a.callAlertTimer("danger","Unable to Process Request, Please Try Again later... ")},a.handleInput=function(e){a.setState(Object(k.a)({},e.target.name,e.target.value))},a.callAlertTimer=function(e,t){a.setState({color:e,content:t}),setTimeout(function(){a.setState({updateSuccess:!0})},x.notificationMillis)},a.toggle=function(){a.setState({collapse:!a.state.collapse,parentId:null})},a.loadCategoryToUpdate=function(e,t,n,r,o){return l.a.createElement(S.Card,null,l.a.createElement(S.CardHeader,null,l.a.createElement("strong",null,"Category")),l.a.createElement("br",null),l.a.createElement("center",null,l.a.createElement("h5",null,l.a.createElement("b",null,"EDIT CATEGORY")),l.a.createElement("br",null),l.a.createElement(S.FormGroup,null,l.a.createElement(S.Col,{sm:"12",md:{size:5,offset:1.5}},l.a.createElement(S.Alert,{color:n},r),l.a.createElement(S.Input,{type:"text",name:"updateCategoryName",value:e,style:{fontWeight:"bold",color:"#000000"},autoFocus:!0,onChange:function(e){a.setState({updateCategoryName:e.target.value})}}),l.a.createElement("br",null),l.a.createElement(S.Input,{name:"categoryColor",type:"color",list:"colors",value:"".concat(t),onChange:function(e){a.handleInput(e)}}),l.a.createElement("br",null),null===a.props.category.subCategories?l.a.createElement(l.a.Fragment,null,l.a.createElement(S.Input,{name:"check",type:"checkbox",onClick:function(){a.toggle()}}),l.a.createElement(S.Label,{for:"mark"},"Nest Under Category")," ",l.a.createElement("br",null)):"",a.loadCollapse(o),l.a.createElement(S.Button,{color:"success",disabled:!e,onClick:a.handleUpdate},"Update  "),"\xa0\xa0\xa0",l.a.createElement(D.a,{to:"/listCategories",style:{textDecoration:"none"}},l.a.createElement(S.Button,{active:!0,color:"light","aria-pressed":"true",onClick:a.cancelUpdateCategory},"Cancel"))))))},a.loadSubCategoryToUpdate=function(e,t,n,r,o){return l.a.createElement(S.Card,null,l.a.createElement(S.CardHeader,null,l.a.createElement("strong",null,"Category")),l.a.createElement("br",null),l.a.createElement("center",null,l.a.createElement("h5",null,l.a.createElement("b",null,"EDIT SUB-CATEGORY")),l.a.createElement("br",null),l.a.createElement(S.FormGroup,null,l.a.createElement(S.Col,{sm:"6"},l.a.createElement(S.Alert,{color:n},r),l.a.createElement(S.Input,{type:"text",name:"updateCategoryName",value:e,style:{fontWeight:"bold",color:"#000000"},autoFocus:!0,onChange:function(e){a.setState({updateCategoryName:e.target.value})}}),l.a.createElement("br",null),l.a.createElement(S.Input,{name:"categoryColor",type:"color",list:"colors",value:"".concat(t),onChange:function(e){a.handleInput(e)}}),l.a.createElement("br",null),l.a.createElement(S.Input,{name:"check",type:"checkbox",onClick:function(){a.toggle()}}),l.a.createElement(S.Label,{for:"mark"},"Make it as Parent")," ",l.a.createElement("br",null),l.a.createElement(S.Collapse,{isOpen:a.state.collapse},l.a.createElement(S.FormGroup,null,l.a.createElement(S.Input,{type:"select",name:"parentId",id:"exampleSelect",onChange:function(e){a.handleInput(e)}},l.a.createElement("option",{value:"",style:{color:"#008000",fontWeight:"bold"}},o),a.state.categories.filter(function(e){return e.id!==a.state.parentId}).map(function(e){return l.a.createElement("option",{key:e.id,value:e.id},e.name)})))),l.a.createElement(S.Button,{color:"success",disabled:!e,onClick:a.handleUpdate},"Update  "),"\xa0\xa0\xa0",l.a.createElement(S.Button,{active:!0,color:"light","aria-pressed":"true",onClick:a.cancelUpdateCategory},"Cancel")))))},a.loadCollapse=function(e){return l.a.createElement(S.Collapse,{isOpen:!a.state.collapse},l.a.createElement(S.FormGroup,null,l.a.createElement(S.Input,{type:"select",name:"parentId",id:"exampleSelect",onChange:function(e){a.handleInput(e)}},a.state.categoryNameValid?l.a.createElement("option",{value:"",style:{color:"#008000",fontWeight:"bold"}},e):l.a.createElement("option",{value:""},"Select Category"),a.state.categories.map(function(e){return l.a.createElement("option",{key:e.id,value:e.id},e.name)}))))},a.state={categories:e.categories,profileId:e.id,categoryId:e.category.id,parentId:e.category.parentId,updateCategoryName:e.category.name,categoryColor:null===e.category.color?"#000000":e.category.color,code:e.category.code,version:e.category.version,color:"",content:"",updateSuccess:!1,collapse:!0,categoryNameValid:!1,cancelUpdateCategory:!1},a}return Object(h.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.state,t=e.updateCategoryName,a=e.categoryColor,n=e.color,r=e.content,o=e.updateSuccess,c=e.cancelUpdateCategory,i=e.parentId,s=e.categories;return Qe=s.filter(function(e){return e.id===i}).map(function(e){return e.name}),c?l.a.createElement("div",null,l.a.createElement($e,null)):l.a.createElement("div",null,o?l.a.createElement($e,null):null===this.props.category.parentId?l.a.createElement("div",null,this.loadCategoryToUpdate(t,a,n,r,Qe)):l.a.createElement("div",null,this.loadSubCategoryToUpdate(t,a,n,r,Qe)))}}]),t}(n.Component),_e=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(g.a)(this,Object(b.a)(t).call(this,e))).componentDidMount=Object(p.a)(m.a.mark(function e(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Ge).deleteCategory(a.successCall,a.errorCall,a.state.profileId,a.state.categoryId);case 2:case"end":return e.stop()}},e)})),a.successCall=function(){setTimeout(function(){a.setState({categoryDeleted:!0})},x.notificationMillis)},a.errorCall=function(){a.callAlertTimer("danger","Unable to Process Request, Please Try Again")},a.callAlertTimer=function(e,t){a.setState({color:e,content:t}),setTimeout(function(){a.setState({categoryDeleted:!0}),window.location.reload()},x.notificationMillis)},a.state={profileId:e.pid,categoryId:e.cid,categoryDeleted:!1,color:"",content:""},a}return Object(h.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.state,t=e.categoryDeleted,a=e.color,n=e.content;return t?l.a.createElement($e,{color:a,content:n,visible:!0}):ye.loadSpinner("Delete Category")}}]),t}(n.Component),$e=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(g.a)(this,Object(b.a)(t).call(this,e))).componentDidMount=function(){a.setProfileId()},a.setProfileId=Object(p.a)(m.a.mark(function e(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null===s.getProfile()||0===s.getProfile().length){e.next=4;break}return e.next=3,a.setState({profileId:s.getProfile().id});case 3:a.getCategory();case 4:case"end":return e.stop()}},e)})),a.getCategory=function(){(new Ge).getCategories(a.successCall,a.errorCall,a.state.profileId)},a.successCall=function(){var e=Object(p.a)(m.a.mark(function e(t){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.categoriesSet(t);case 2:a.loadCollapse();case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.categoriesSet=function(e){var t=e.map(function(e,t){return Object(Ie.a)({},e,{childName:a.displaySubCategoryName(e)})});a.setState({categories:t})},a.displaySubCategoryName=function(e){return null!==e.subCategories?e.subCategories.map(function(e){return e.name}):null},a.loadCollapse=function(){a.state.categories.map(function(e){return a.setState(function(e){return{accordion:[].concat(Object(Ne.a)(e.accordion),[!1]),hoverAccord:[].concat(Object(Ne.a)(e.hoverAccord),[!1]),dropDownAccord:[].concat(Object(Ne.a)(e.dropDownAccord),[!1])}})})},a.errorCall=function(e){a.callAlertTimer("danger","Unable to Process Request, Please Try Again")},a.callAddCategory=function(){a.setState({createCategory:!0})},a.updateCategory=function(e){a.setState({updateCategory:!0,requiredCategory:e})},a.deleteCategory=function(){a.setState({deleteCategory:!0})},a.toggleDanger=function(){a.setState({danger:!a.state.danger})},a.callAlertTimer=function(){a.state.visible&&setTimeout(function(){a.setState({visible:!1})},x.notificationMillis)},a.toggleAccordion=function(e){var t=a.state.accordion.map(function(t,a){return e===a&&!t});a.setState({accordion:t})},a.hoverAccordion=function(e){var t=a.state.hoverAccord.map(function(t,a){return e===a&&!t});a.setState({hoverAccord:t})},a.dropDownAccordion=function(e){var t=a.state.dropDownAccord.map(function(t,a){return e===a&&!t});a.setState({dropDownAccord:t})},a.onHover=function(e,t){a.setState({onHover:!0}),a.hoverAccordion(t)},a.onHoverOff=function(e,t){a.setState({onHover:!1}),a.hoverAccordion(t)},a.setSearch=function(e){a.setState({search:e.target.value})},a.loadCategories=function(e,t,n){var l=a.props.color;return""===l&&void 0===l||a.callAlertTimer(),ye.loadItems(e,a.setSearch,n,a.callAddCategory,t,a.toggleAccordion,a.state.accordion,a.setCategoryID,a.toggleDanger,a.updateCategory,a.state.dropDownAccord,a.dropDownAccordion,l,a.props.content)},a.loadDeleteCategory=function(){return l.a.createElement(ve,{danger:a.state.danger,headerMessage:"Delete Category",bodyMessage:"Are You Sure Want to Delete Category?",toggleDanger:a.toggleDanger,delete:a.deleteCategory,cancel:a.toggleDanger})},a.showDropdown=function(e,t){return ye.loadDropDown(e,t,a.state.dropDownAccord[t],a.dropDownAccordion,a.updateCategory,a.setCategoryID,a.toggleDanger)},a.setCategoryID=function(e){a.setState({categoryId:e.id})},a.state={categories:[],profileId:0,categoryId:0,requiredCategory:[],createCategory:!1,updateCategory:!1,deleteCategory:!1,accordion:[],hoverAccord:[],dropDownAccord:[],danger:!1,onHover:!1,visible:e.visible,spinner:!1,search:""},a}return Object(h.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.state,t=e.requiredCategory,a=e.createCategory,n=e.updateCategory,r=e.deleteCategory,o=e.profileId,c=e.categoryId,i=e.visible,u=e.spinner,d=e.search,m=e.categories;return null===s.getProfile()||0===s.getProfile().length?l.a.createElement(Ae,null):0!==m.length||u?a?l.a.createElement(Ze,{category:m,id:o}):n?l.a.createElement(Xe,{categories:m,category:t,id:o}):r?l.a.createElement(_e,{cid:c,pid:o}):l.a.createElement("div",null,this.loadCategories(m,i,d),this.loadDeleteCategory()):ye.loadSpinner("Categories : "+m.length)}}]),t}(n.Component),et=a(41),tt=a(28),at=function(){function e(){Object(f.a)(this,e)}return Object(E.a)(e,[{key:"createContact",value:function(e,t,a,n){lt(e,t,a+"/contacts","POST",a,n)}},{key:"getContacts",value:function(e,t,a,n){null===s.getContacts()||"true"===n?lt(e,t,a+"/contacts?withlabels=true","GET"):e(s.getContacts())}},{key:"getContactById",value:function(e,t,a,n){lt(e,t,a+"/contacts/"+n,"GET",a,!0)}},{key:"updateContact",value:function(e,t,a,n,l){lt(e,t,n+"/contacts/"+l,"PUT",n,a)}},{key:"deleteContact",value:function(e,t,a,n){lt(e,t,a+"/contacts/"+n,"DELETE",a)}}]),e}(),nt=at;function lt(e,t,a,n,l,r){return rt.apply(this,arguments)}function rt(){return(rt=Object(p.a)(m.a.mark(function e(t,a,n,l,r,o){var c,i;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(c=st(n,l),e.prev=1,null===c){e.next=13;break}if(null!==o&&void 0!==o){e.next=9;break}return e.next=6,c.request();case 6:i=e.sent,e.next=12;break;case 9:return e.next=11,c.request({data:o});case 11:i=e.sent;case 12:"GET"===l&&void 0===o?(s.saveContacts(i.data),ct(i,t)):"GET"===l&&!0===o?ct(i,t):((new at).getContacts(t,a,r,"true"),ct(i,t));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),ot(r,e.t0,a,n,l,o,t);case 18:case"end":return e.stop()}},e,null,[[1,15]])}))).apply(this,arguments)}var ot=function(e,t,a,n,l,r,o){0===t.request.status?(new at).getSublabels(o,a,e,"True"):403===t.response.status||401===t.response.status?(new L).refresh(function(){lt(o,a,n,l,r)},it(t,a)):it(t,a)},ct=function(e,t){null!=t&&t(e.data)},it=function(e,t){null!=t&&t(e)};function st(e,t){var a=s.getProfile(),n=null;return null!==a&&(n=P.a.create({baseURL:a.url+"/profile/",method:t,url:e,headers:{"content-type":"application/json",Authorization:"Bearer "+s.getAppUserAccessToken()}})),n}var ut=function(){function e(){Object(f.a)(this,e)}return Object(E.a)(e,[{key:"getCountrylist",value:function(e,t){dt(e,t,"/countries","GET")}},{key:"getCurrencyList",value:function(e,t){dt(e,t,"/currencies","GET")}},{key:"settings",value:function(e,t){dt(e,t,"/settings","GET")}}]),e}();function dt(e,t,a,n){return mt.apply(this,arguments)}function mt(){return(mt=Object(p.a)(m.a.mark(function e(t,a,n,l){var r,o;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=gt(n,l),e.prev=1,e.next=4,r.request();case 4:o=e.sent,Et(o,t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),pt(e.t0,t,a,n,l);case 11:case"end":return e.stop()}},e,null,[[1,8]])}))).apply(this,arguments)}function pt(e,t,a,n,l){0===e.request.status?ft(e,a):401===e.response.status||403===e.response.status?(new L).refresh(function(){return dt(t,a,n,l)},ft(e,a)):ft(e,a)}var ft=function(e,t){null!=t&&t(e)},Et=function(e,t){null!=t&&t(e.data)};function gt(e,t){return P.a.create({baseURL:x.cloudBaseURL,method:t,url:e,headers:{"content-type":"application/json",Authorization:"Bearer "+s.getAppUserAccessToken()}})}var bt=a(74),ht=a.n(bt),yt={colourStyles:{control:function(e){return Object(Ie.a)({},e,{backgroundColor:"white"})},option:function(e,t){var a=t.data,n=t.isDisabled,l=t.isFocused,r=t.isSelected,o=ht()(a.color);return Object(Ie.a)({},e,{backgroundColor:n?null:r?a.color:l?o.alpha(.1).css():null,color:n?"#ccc":r?ht.a.contrast(o,"white")>2?"white":"black":a.color,cursor:n?"not-allowed":"default",":active":Object(Ie.a)({},e[":active"],{backgroundColor:!n&&(r?a.color:o.alpha(.3).css())})})},multiValue:function(e,t){var a=t.data,n=ht()(a.color);if(null===n||null!==n)return Object(Ie.a)({},e,{backgroundColor:n.alpha(.1).css()})},multiValueLabel:function(e,t){var a=t.data;return Object(Ie.a)({},e,{color:a.color})},multiValueRemove:function(e,t){var a=t.data;return Object(Ie.a)({},e,{color:a.color,":hover":{backgroundColor:a.color,color:"white"}})}},singleStyles:{control:function(e){return Object(Ie.a)({},e,{backgroundColor:"white"})},option:function(e,t){var a=t.data,n=t.isDisabled,l=t.isFocused,r=t.isSelected,o=ht()(a.color);return Object(Ie.a)({},e,{backgroundColor:n?null:r?a.color:l?o.alpha(.1).css():null,color:n?"#ccc":r?ht.a.contrast(o,"white")>2?"white":"black":a.color,cursor:n?"not-allowed":"default",":active":Object(Ie.a)({},e[":active"],{backgroundColor:!n&&(r?a.color:o.alpha(.3).css())})})},input:function(e){return Object(Ie.a)({},e)},placeholder:function(e){return Object(Ie.a)({},e)},singleValue:function(e,t){var a=t.data;return Object(Ie.a)({},e,{color:a.color})}},labels:function(e){var t=[];return e.map(function(e){return null===e.subLabels?t.push({value:e.id,label:l.a.createElement("b",null,e.name),color:null===e.color||""===e.color?"#000000":e.color}):(t.push({label:e.name,color:null===e.color||""===e.color?"#000000":e.color,value:e.id}),e.subLabels.map(function(a){return t.push({label:l.a.createElement("b",null,e.name+"/"+a.name),color:null===a.color||""===a.color?"#000000":a.color,value:a.id})}),0)}),t},categories:function(e){var t=[];return e.map(function(e){return null===e.subCategories?t.push({value:e.id,label:l.a.createElement("b",null,e.name),color:null===e.color||""===e.color?"#000000":e.color}):(t.push({value:e.id,label:l.a.createElement("b",null,e.name),color:null===e.color||""===e.color?"#000000":e.color}),e.subCategories.map(function(e){return t.push({label:l.a.createElement("span",{style:{paddingLeft:30}},e.name),color:null===e.color||""===e.color?"#000000":e.color,value:e.id})}),0)}),t},contacts:function(e){var t=[];return e.map(function(e){return t.push({value:e.id,label:l.a.createElement("b",null,e.name)})}),t}},Ct=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(g.a)(this,Object(b.a)(t).call(this,e))).componentDidMount=function(){a.getCountryList()},a.getCountryList=function(){(new ut).getCountrylist(a.setCountryList,a.errorCall)},a.setCountryList=function(e){a.setState({countries:e,spinner:!a.state.spinner})},a.handleUpdate=function(e,t,n){var l=a.state,r=l.profileId,o=l.contactId,c=l.selectedOption,i=l.labelUpdate,s=l.selectedCountry;if(0===t.length&&(void 0!==r|void 0!==o||""!==s)){a.setState({doubleClick:!0});var u=Object(Ie.a)({},n,{country:s,labelIds:c===[]?[]:i?c.map(function(e){return e.value}):c,version:a.state.contact.version});(new nt).updateContact(a.successCall,a.errorCall,u,a.state.profileId,a.state.contactId)}},a.handleSelect=function(e){a.setState({selectedOption:e,labelUpdate:!0})},a.successCall=function(e){a.callAlertTimer("success","Contact Updated Successfully... ")},a.errorCall=function(e){a.callAlertTimer("danger","Something went wrong, Please Try Again... ")},a.callAlertTimer=function(e,t){a.setState({alertColor:e,message:t}),setTimeout(function(){a.setState({name:"",alertColor:"",updateSuccess:!0})},x.notificationMillis)},a.handleInput=function(e){a.setState(Object(k.a)({},e.target.name,e.target.value))},a.toggle=function(){a.setState({collapse:!a.state.collapse})},a.cancelUpdateContact=function(){a.setState({cancelUpdateContact:!0})},a.handleCountrySelect=function(e){a.setState({selectedCountry:e.target.value})},a.loadSpinner=function(){return l.a.createElement("div",{className:"animated fadeIn"},l.a.createElement(S.Card,null,l.a.createElement(S.CardHeader,null,l.a.createElement("strong",null,"Total Labels: ",a.state.labels.length)),l.a.createElement("center",{style:{paddingTop:"20px"}},l.a.createElement(S.CardBody,null,l.a.createElement(I.a,{type:"TailSpin",color:"#2E86C1",height:60,width:60})))))},a.loadHeader=function(){return l.a.createElement(S.CardHeader,null,l.a.createElement("strong",null,"EDIT CONTACT"))},a.loadUpdateContact=function(e,t,n){return l.a.createElement(S.Card,null,a.loadHeader(),l.a.createElement(S.CardBody,null,"#000000"===t?"":l.a.createElement(S.Alert,{color:t},n),l.a.createElement(Q.AvForm,{onSubmit:a.handleUpdate},l.a.createElement(S.Row,null,l.a.createElement(S.Col,null," ",l.a.createElement(Q.AvField,{name:"name",placeholder:"Contact name",value:e.name,validate:{pattern:{value:"^[A-Za-z_.-0-9]"}}})," "),l.a.createElement(S.Col,null,l.a.createElement(Q.AvField,{name:"organization",placeholder:"Organization Name",value:e.organization,validate:{pattern:{value:"^[a-zA-Z0-9_.-]*"}}}))),l.a.createElement(S.Row,null,l.a.createElement(S.Col,null,l.a.createElement(Q.AvField,{name:"phone",placeholder:"Phone Number",value:e.phone,validate:{pattern:{value:"^[0-9*+-]+$"}}})),l.a.createElement(S.Col,null,l.a.createElement(Q.AvField,{name:"email",type:"text",placeholder:"Your Email",validate:{email:!0},value:e.email}))),l.a.createElement(S.Row,null,l.a.createElement(S.Col,null,l.a.createElement(Q.AvField,{name:"address1",placeholder:"Address 1",value:e.address1})),l.a.createElement(S.Col,null,l.a.createElement(Q.AvField,{name:"address2",placeholder:"Address 2",value:e.address2}))),l.a.createElement(S.Row,null,l.a.createElement(S.Col,null,l.a.createElement(Q.AvField,{name:"postcode",placeholder:"Your Postal Code",value:e.postcode,validate:{pattern:{value:"^[0-9]{6}"}}})),l.a.createElement(S.Col,null,l.a.createElement(Q.AvField,{name:"state",placeholder:"Your State",value:e.state})),l.a.createElement(S.Col,null,l.a.createElement(S.Input,{type:"select",onChange:function(e){return a.handleCountrySelect(e)},value:a.state.selectedCountry},l.a.createElement("option",{value:""},"Select Country"),a.state.countries.map(function(e,t){return l.a.createElement("option",{key:t,value:e.code},e.name+" ("+e.short+")")}))),l.a.createElement(S.Col,null,l.a.createElement(Q.AvField,{name:"website",placeholder:"Your Website",value:e.website}))),l.a.createElement(S.Row,null,l.a.createElement(S.Col,null,0===a.state.labels.length?l.a.createElement("center",null,"You dont have Label"):a.loadAvCollapse(e))),l.a.createElement("br",null),l.a.createElement("center",null,l.a.createElement(S.Button,{color:"info",disabled:a.state.doubleClick}," Update Contact ")," \xa0\xa0",l.a.createElement(S.Button,{active:!0,color:"light",type:"button",onClick:a.cancelUpdateContact},"Cancel")))))},a.loadAvCollapse=function(e){var t=[];a.state.labels.map(function(e,n){return Array.isArray(e.subLabels)?(a.pushArray(t,e),e.subLabels.map(function(n){return a.pushArray(t,n,e)})):a.pushArray(t,e),0});var n=null===e.labelIds?"":e.labelIds.map(function(e){return t.filter(function(t){return t.value===e})}).flat();return l.a.createElement(tt.a,{isMulti:!0,options:t,defaultValue:n,styles:yt.colourStyles,placeholder:"Select Lables ",autoFocus:!0,onChange:a.handleSelect})},a.pushArray=function(e,t,a){void 0===a?e.push({value:t.id,label:t.name,color:null===t.color||""===t.color?"#000000":t.color}):e.push({value:t.id,label:a.name+"/"+t.name,color:null===t.color||""===t.color?"#000000":t.color})},a.state={contact:a.props.contact,country:[],alertColor:"#000000",message:"",updateSuccess:!1,profileId:a.props.profileId,collapse:!1,labels:a.props.lables,contactId:a.props.contact.id,selectedOption:[],labelUpdate:"",spinner:!1,doubleClick:!1,selectedCountry:a.props.contact.country,cancelUpdateContact:!1},a}return Object(h.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.state,t=e.contact,a=e.updateSuccess,n=e.alertColor,r=e.message,o=e.cancelUpdateContact,c=e.spinner;return o?l.a.createElement(Lt,null):c?l.a.createElement("div",null,a?l.a.createElement(Lt,null):this.loadUpdateContact(t,n,r)," "):this.loadSpinner()}}]),t}(n.Component),vt=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(g.a)(this,Object(b.a)(t).call(this,e))).componentDidMount=function(){(new nt).deleteContact(a.successCall,a.errorCall,a.state.profileId,a.state.contactId)},a.successCall=Object(p.a)(m.a.mark(function e(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.callAlertTimer("success","Contact Deleted Successfully....");case 1:case"end":return e.stop()}},e)})),a.errorCall=function(){a.callAlertTimer("danger","Something went wrong, Please Try Again...  ")},a.callAlertTimer=function(e,t){a.setState({color:e,content:t}),setTimeout(function(){a.setState({labelDeleted:!0})},x.notificationMillis)},a.state={contactId:e.contactId,labelDeleted:!1,color:"warning",content:"Deleting Label.....",profileId:e.profileId},a}return Object(h.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.state,t=e.labelDeleted,a=e.content,n=e.color;return l.a.createElement("div",null,t?l.a.createElement(Lt,{color:n,content:a,visible:!0}):ye.loadDeleting("","","Delete Contact","Contact Deleting"))}}]),t}(n.Component),St=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(g.a)(this,Object(b.a)(t).call(this,e))).componentDidMount=function(){(new ut).getCountrylist(a.successCallCountryList,a.errorCallCountry)},a.successCallCountryList=function(e){a.setState({countries:e})},a.errorCallCountry=function(e){console.log(e)},a.handleInput=function(e){a.setState(Object(k.a)({},e.target.name,e.target.value))},a.handleSubmit=function(){var e=Object(p.a)(m.a.mark(function e(t,n,l){var r,o,c,i,s;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.persist(),r=a.state,o=r.selectedCountry,c=r.selectedOption,i=r.profileId,0!==n.length){e.next=12;break}if(a.setState({formInput:l}),""!==o){e.next=8;break}a.callAlertTimer("danger","Country is Required"),e.next=12;break;case 8:return a.setState({doubleClick:!0}),s=Object(Ie.a)({},l,{country:o,labelIds:c.map(function(e){return e.value})}),e.next=12,(new nt).createContact(a.successCall,a.errorCall,i,s);case 12:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}(),a.cancelAddContact=function(){a.setState({cancelAddContact:!0})},a.successCall=function(e){a.callAlertTimer("success","Contact Created Successfully !")},a.handleSelect=function(e){a.setState({selectedOption:e})},a.errorCall=function(e){a.callAlertTimer("danger","Unable to Process the request, Please Try Again"),a.setState({failContactCreate:!0})},a.toggle=function(){a.setState({collapse:!a.state.collapse})},a.callAlertTimer=function(e,t){a.setState({alertColor:e,message:t}),"Country is Required"!==t&&setTimeout(function(){a.setState({contactCreated:!0})},x.notificationMillis)},a.loadHeader=function(){return l.a.createElement(S.CardHeader,null,l.a.createElement("strong",null,"Contacts"))},a.handleCountrySelect=function(e){a.setState({selectedCountry:e.target.value,alertColor:"",message:""})},a.loadAvCreateContact=function(e,t){return l.a.createElement("div",null,l.a.createElement(S.Card,null,l.a.createElement(S.CardBody,null,""===e?"":l.a.createElement(S.Alert,{color:e},t),l.a.createElement("center",null,l.a.createElement("h5",null,"Create Contact")),l.a.createElement("br",null),l.a.createElement(Q.AvForm,{onSubmit:a.handleSubmit},l.a.createElement(S.Row,null,l.a.createElement(S.Col,null,l.a.createElement(Q.AvField,{name:"name",placeholder:"Contact Name",validate:{pattern:{value:"^[A-Za-z_.-0-9]"}},required:!0})),l.a.createElement(S.Col,null,l.a.createElement(Q.AvField,{name:"organization",placeholder:"Organization",validate:{pattern:{value:"^[a-zA-Z0-9_.-]*"}},required:!0}))),l.a.createElement(S.Row,null,l.a.createElement(S.Col,null,l.a.createElement(Q.AvField,{name:"phone",placeholder:"Phone Number",validate:{pattern:{value:"^[0-9*+-]+$"}},required:!0})),l.a.createElement(S.Col,null,l.a.createElement(Q.AvField,{name:"email",placeholder:"Your Email",type:"text",validate:{email:!0},required:!0}))),l.a.createElement(S.Row,null,l.a.createElement(S.Col,null,l.a.createElement(Q.AvField,{name:"address1",placeholder:"Address 1"})),l.a.createElement(S.Col,null,l.a.createElement(Q.AvField,{name:"address2",placeholder:"Address 2"}))),l.a.createElement(S.Row,null,l.a.createElement(S.Col,null,l.a.createElement(Q.AvField,{name:"postcode",placeholder:"Your Postal Code",errorMessage:"Enter Valid Postal Code",validate:{pattern:{value:"^[0-9]{6}"}}})),l.a.createElement(S.Col,null,l.a.createElement(Q.AvField,{name:"state",placeholder:"Your State"})),l.a.createElement(S.Col,null,l.a.createElement(S.Input,{type:"select",onChange:function(e){return a.handleCountrySelect(e)},value:a.state.selectedCountry,placeholder:"Select country",required:!0},l.a.createElement("option",{value:""},"Select Country"),a.state.countries.map(function(e,t){return l.a.createElement("option",{key:t,value:e.code},e.name+" ("+e.short+")")}))),l.a.createElement(S.Col,null,l.a.createElement(Q.AvField,{name:"website",placeholder:"Website"}))),l.a.createElement(S.Row,null,l.a.createElement(S.Col,null,0===a.state.labels.length?l.a.createElement("center",null,"You dont have Labels"):a.loadAvCollapse()))," ",l.a.createElement("br",null),l.a.createElement("center",null,l.a.createElement(S.FormGroup,{row:!0},l.a.createElement(S.Col,null,l.a.createElement(S.Button,{color:"info",disabled:a.state.doubleClick}," Save ")," \xa0 \xa0",l.a.createElement(S.Button,{active:!0,color:"light",type:"button",onClick:a.cancelAddContact},"Cancel"))))))))},a.loadAvCollapse=function(){var e=[];return 0===a.state.labels.length?(e.push({value:null,label:"You don't have any lables now."}),l.a.createElement("div",null,l.a.createElement(tt.a,{options:e,placeholder:"Select the Label"}))):(a.state.labels.map(function(t,n){return Array.isArray(t.subLabels)?(a.pushArray(e,t),t.subLabels.map(function(n){return a.pushArray(e,n,t)})):a.pushArray(e,t),0}),l.a.createElement("div",null,l.a.createElement(tt.a,{onChange:a.handleSelect,isMulti:!0,options:e,placeholder:"Select the Label",styles:yt.colourStyles})))},a.pushArray=function(e,t,a){void 0===a?e.push({value:t.id,label:t.name,color:null===t.color||""===t.color?"#000000":t.color}):e.push({value:t.id,label:a.name+"/"+t.name,color:null===t.color||""===t.color?"#000000":t.color})},a.state={profileId:e.profileId,labels:e.lables,contactCreated:!1,collapse:!1,alertColor:"",message:"",selectedOption:[],formInput:"",cancelAddContact:!1,doubleClick:!1,countries:[],selectedCountry:""},a}return Object(h.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.state,t=e.contactCreated,a=e.alertColor,n=e.message;return e.cancelAddContact?l.a.createElement(Lt,null):l.a.createElement("div",null,t?l.a.createElement(Lt,null):this.loadAvCreateContact(a,n))}}]),t}(n.Component),At=function(){function e(){Object(f.a)(this,e)}return Object(E.a)(e,[{key:"createAttachment",value:function(e,t,a,n,l){wt(e,t,a+"/contacts/"+n+"/attachments","POST",l)}},{key:"getAttachments",value:function(e,t,a,n){wt(e,t,a+"/contacts/"+n+"/attachments","GET",a)}},{key:"getAttachmentsById",value:function(e,t,a,n,l){wt(e,t,a+"/contacts/"+n+"/attachments/"+l,"GET")}},{key:"viewAttachments",value:function(e,t,a,n,l){wt(e,t,a+"/contacts/"+n+"/attachments/"+l+"/view","GET")}},{key:"downloadAttachments",value:function(e,t,a,n,l){wt(e,t,a+"/contacts/"+n+"/attachments/"+l+"/download","GET")}},{key:"deleteAttachment",value:function(e,t,a,n,l){wt(e,t,a+"/contacts/"+n+"/attachments/"+l,"DELETE",a)}}]),e}();function wt(e,t,a,n,l){return kt.apply(this,arguments)}function kt(){return(kt=Object(p.a)(m.a.mark(function e(t,a,n,l,r){var o,c;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=Dt(n,l),e.prev=1,null!==r){e.next=8;break}return e.next=5,o.request();case 5:c=e.sent,e.next=11;break;case 8:return e.next=10,o.request({data:r});case 10:c=e.sent;case 11:It(c,t),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),0===e.t0.request.status?Tt(e.t0.response,a):Ot(e.t0,a,n,l,r,t);case 17:case"end":return e.stop()}},e,null,[[1,14]])}))).apply(this,arguments)}var Ot=function(e,t,a,n,l,r){0===e.request.status?Tt(e,t):401===e.response.status||403===e.response.status?(new L).refresh(function(){return wt(r,t,a,n,l)},Tt(e,t)):Tt(e,t)},It=function(e,t){null!=t&&t(e.data)},Tt=function(e,t){null!=t&&t(e)};function Dt(e,t){var a=s.getProfile();return P.a.create({baseURL:a.url+"/profile",method:t,url:e,headers:{"Content-Type":"form-data",Authorization:"Bearer "+s.getAppUserAccessToken()}})}var jt=function(e){function t(){var e,a;Object(f.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(g.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={file:"",profileId:a.props.profileId,contactId:a.props.contactId,addSuccess:!1,addFail:!1,color:"",content:"",cancelAddAttachment:!1,doubleClick:!1},a.handleInput=function(e){e.target.files[0].size>=5242880?a.setState({color:"danger",content:"Uploaded file size must be below 5 MB"}):a.setState({file:e.target.files[0],color:"",content:""})},a.handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.profileId,l=t.contactId,r=t.file,o=new FormData;o.append("file",r),void 0===n&&void 0===l||(a.setState({doubleClick:!1}),(new At).createAttachment(a.successCall,a.errorCall,n,l,o))},a.cancelAddAttachment=function(){a.setState({cancelAddAttachment:!0})},a.successCall=function(e){a.setState({addSuccess:!0,content:"Successfully Added "})},a.errorCall=function(e){a.setState({content:"Unable to Process, please try Again",addFail:!0})},a.loadFailure=function(){return l.a.createElement(S.Card,null,ye.loadHeader("Add Attachment"),l.a.createElement(S.CardBody,null,l.a.createElement("center",null,a.state.content)),a.setState({addFail:!1}))},a.loadSuccess=function(){return l.a.createElement("div",{style:{color:"green"}}," Added Successfully !",window.location.reload())},a.loadAddAttachment=function(){return l.a.createElement(S.Card,null,ye.loadHeader("Add Attachment"),l.a.createElement(S.FormGroup,null," ",l.a.createElement("br",null),l.a.createElement("center",null,l.a.createElement(S.Col,{sm:6},l.a.createElement(S.Alert,{color:a.state.color},a.state.content)),l.a.createElement("input",{type:"file",onChange:function(e){return a.handleInput(e)}})," ",l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(S.Button,{color:"info",onClick:function(e){return a.handleSubmit(e)},disabled:a.state.doubleClick}," Add "),"\xa0\xa0",l.a.createElement(S.Button,{active:!0,color:"light","aria-pressed":"true",onClick:function(){return window.location.reload()}},"Cancel"),l.a.createElement("br",null),l.a.createElement("br",null))))},a}return Object(h.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.state,t=e.addSuccess,a=e.addFail,n=e.cancelAddAttachment;return t?this.loadSuccess():a?this.loadFailure():n?l.a.createElement(Lt,null):this.loadAddAttachment()}}]),t}(n.Component),Pt={DownloadAttachment:function(e){var t=s.getProfile().url+""+e.downloadLink,a=e.filename;return fetch(t,{headers:{"content-type":"application/json",Authorization:"Bearer "+s.getAppUserAccessToken()}}).then(function(e){return e.blob()}).then(function(e){var t=window.URL.createObjectURL(e),n=document.createElement("a");return n.href=t,n.setAttribute("download",a),n.click(),"Download Successfully"}).catch(function(e){return e.message})},DeleteAttachment:function(e,t,a,n,l){(new At).deleteAttachment(e,t,a,n,l)},viewAttachment:function(e){var t=s.getProfile().url+""+e.viewLink;return fetch(t,{headers:{"content-type":"application/json",Authorization:"Bearer "+s.getAppUserAccessToken()}}).then(function(e){return e.blob()}).then(function(e){return URL.createObjectURL(e)}).catch(function(e){return e.message})}},xt=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(g.a)(this,Object(b.a)(t).call(this,e))).componentDidMount=function(){(new At).getAttachments(a.successCall,a.errorCall,a.state.profileId,a.state.contactId)},a.successCall=function(){var e=Object(p.a)(m.a.mark(function e(t){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({attachments:t,count:t.length});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.success=function(e){window.location.reload()},a.errorCall=function(e){},a.loadDropdown=function(){a.state.attachment.map(function(e){return a.setState(function(e){return{accordion:[].concat(Object(Ne.a)(e.accordion),[!1]),dropdownOpen:[].concat(Object(Ne.a)(e.dropdownOpen),[!1])}})})},a.toggleDanger=function(e){a.setState({danger:!a.state.danger}),null===e&&""===e||a.setState({attachmentId:e})},a.toggleView=function(e,t){a.setState({display:!a.state.display,viewData:e,reattachment:t})},a.deleteAttachmentRequest=Object(p.a)(m.a.mark(function e(){var t,n,l,r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({danger:!a.state.danger}),t=a.state,n=t.profileId,l=t.contactId,r=t.attachmentId,e.next=4,Pt.DeleteAttachment(a.success,a.errorCall,n,l,r);case 4:case"end":return e.stop()}},e)})),a.downloadLink=function(){var e=Object(p.a)(m.a.mark(function e(t){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Pt.DownloadAttachment(t).then(function(e){return console.log(e)});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.viewLink=function(e){Pt.viewAttachment(e).then(function(t){return a.toggleView(t,e)})},a.handleAddFile=function(){a.setState({addFile:!a.state.addFile})},a.loadAttachment=function(e,t){return l.a.createElement("div",{className:"list"},l.a.createElement("div",{className:"list-item",key:t},l.a.createElement(S.Row,null,l.a.createElement(S.Col,null,l.a.createElement(S.Button,{onClick:function(){a.downloadLink(e)},color:"link"},e.filename)," \xa0(",a.attachmentFileSize(e.sizeBytes),")"),l.a.createElement(ce.h,{color:"#1E90FF",size:20,className:"float-right",style:{marginTop:-4,marginRight:10},onClick:function(t){return a.viewLink(e)}}),"    ",l.a.createElement("span",{className:"float-right"},"  "),l.a.createElement(ce.q,{color:"#ff0000",className:"float-right",style:{marginRight:10},onClick:function(){a.toggleDanger(e.id,t)}}),l.a.createElement("span",{className:"float-right"},"  "))))},a.attachmentFileSize=function(e){if(0===e)return"0.00 B";var t=Math.floor(Math.log(e)/Math.log(1024));return(e/Math.pow(1024,t)).toFixed(2)+" "+" KMGTPEZY".charAt(t)+"B"},a.deleteAttachment=function(){var e=a.state.danger;return l.a.createElement(ve,{danger:e,headerMessage:"Delete Attachment ",bodyMessage:"Are You Sure Want to Delete Attachment?",toggleDanger:a.toggleDanger,delete:a.deleteAttachmentRequest,cancel:a.toggleDanger})},a.displayAttachment=function(){var e=a.state,t=e.display,n=e.viewData,r=e.reattachment;return l.a.createElement(S.Modal,{isOpen:t,size:"xl",style:{height:window.screen.height},className:a.props.className},l.a.createElement(S.ModalHeader,{toggle:function(){a.toggleView()}},void 0===r?"":r.filename),l.a.createElement("object",{size:"xl",style:{height:window.screen.height},data:n},l.a.createElement("embed",{src:n})))},a.state={profileId:e.profileId,contactId:e.contactId,getCount:e.getCount,count:0,attachmentId:0,attachments:[],dropdownOpen:[],addFile:!1,viewLink:"",reattachment:"",display:!1,viewData:""},a}return Object(h.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.state,t=e.attachments,a=e.profileId,n=e.contactId,r=e.getCount,o=e.count;return r?0===o?null:l.a.createElement("span",{style:{color:"#000000"}},"\xa0( ",o," Attachments )"):0===o|this.state.addFile?l.a.createElement("div",null,l.a.createElement(jt,{profileId:a,contactId:n,addFile:this.handleAddFile})):l.a.createElement("div",null,this.loadAttachments(t,a,n),this.deleteAttachment()," ",this.displayAttachment())}},{key:"loadAttachments",value:function(e){var t=this;return l.a.createElement(S.Card,null,l.a.createElement("div",{style:{paddingTop:10,color:"#000000"}},l.a.createElement("strong",null,l.a.createElement("center",null,"ATTACHMENTS",l.a.createElement(ce.f,{style:{marginRight:10},className:"float-right",color:"#020b71",size:20,onClick:this.handleAddFile})))),l.a.createElement(S.CardBody,null,e.map(function(a,n){return l.a.createElement("div",{key:n},t.loadAttachment(e[n],n))})))}}]),t}(n.Component),Lt=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(g.a)(this,Object(b.a)(t).call(this,e))).componentDidMount=function(){a.setProfileId()},a.setProfileId=Object(p.a)(m.a.mark(function e(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null==s.getProfile()||0===s.getProfile().length){e.next=4;break}return e.next=3,a.setState({profileId:s.getProfile().id});case 3:a.getContacts();case 4:case"end":return e.stop()}},e)})),a.getContacts=function(){(new nt).getContacts(a.successCall,a.errorCall,a.state.profileId)},a.successCall=function(e){e===[]?a.setState({contacts:[0]}):(a.setState({contacts:e,spinner:!0}),a.loadCollapse())},a.errorCall=function(e){a.setState({visible:!0})},a.callCreateContact=function(){a.setState({createContact:!0})},a.loadCollapse=function(){a.state.contacts.map(function(e){return a.setState(function(e){return{accordion:[].concat(Object(Ne.a)(e.accordion),[!1]),hoverAccord:[].concat(Object(Ne.a)(e.hoverAccord),[!1]),dropdownOpen:[].concat(Object(Ne.a)(e.dropdownOpen),[!1]),attachDropdown:[].concat(Object(Ne.a)(e.attachDropdown),[!1])}})}),(new De).getlabels(a.successCallLabel,a.errorCall,a.state.profileId)},a.successCallLabel=function(e){e===[]?a.setState({labels:[]}):a.setState({labels:e,spinner:!0})},a.updateContact=function(e){a.setState({updateContact:!0,singleContact:e})},a.deleteContact=function(){a.setState({deleteContact:!0})},a.toggleDanger=function(){a.setState({danger:!a.state.danger})},a.toggleAccordion=function(e){var t=a.state.accordion.map(function(t,a){return e===a&&!t});a.setState({accordion:t})},a.toggleDropDown=function(e){var t=a.state.dropdownOpen.map(function(t,a){return e===a&&!t});a.setState({dropdownOpen:t})},a.attachDropDown=function(e,t){var n=a.state.attachDropdown.map(function(t,a){return e===a&&!t});void 0!==t?a.setState({attachDropdown:n,contactId:t}):a.setState({attachDropdown:n})},a.hoverAccordion=function(e){var t=a.state.hoverAccord.map(function(t,a){return e===a&&!t});a.setState({hoverAccord:t})},a.onHover=function(e,t){a.setState({onHover:!0}),a.hoverAccordion(t)},a.onHoverOff=function(e,t){a.setState({onHover:!1}),a.hoverAccordion(t)},a.addAttach=function(){var e=Object(p.a)(m.a.mark(function e(t,n){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({contactId:t,addAttachRequest:!0});case 2:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.searchHandler=function(e){a.setState({searchContact:e.target.value})},a.loadHeader=function(){return l.a.createElement(S.CardHeader,null,l.a.createElement(S.Row,{style:{padding:"20px 20px 0px 20px"}},l.a.createElement(S.Col,{sm:3},l.a.createElement("strong",{style:{fontSize:24}},"Contacts ")),l.a.createElement(S.Col,null,0!==a.state.contacts.length&&l.a.createElement(S.InputGroup,null,l.a.createElement(S.Input,{type:"search",className:"float-right",onChange:a.searchHandler,value:a.state.searchContact,placeholder:"Search Contacts..."}),l.a.createElement(S.InputGroupAddon,{addonType:"append"},l.a.createElement(S.InputGroupText,{className:"dark"},l.a.createElement(ce.o,null))))),l.a.createElement(S.Col,{sm:2},l.a.createElement(S.Button,{color:"success",className:"float-right",onClick:a.callCreateContact}," + ADD "))))},a.loadSpinner=function(){return l.a.createElement("div",{className:"animated fadeIn"},l.a.createElement(S.Card,null,a.loadHeader(),l.a.createElement("center",{style:{paddingTop:"20px"}},l.a.createElement(S.CardBody,null,l.a.createElement(I.a,{type:"Ball-Triangle",color:"#2E86C1",height:80,width:80})))))},a.loadContactEmpty=function(){return l.a.createElement("div",{className:"animated fadeIn"},l.a.createElement(S.Card,null,a.loadHeader(),l.a.createElement("center",{style:{paddingTop:"20px"}},l.a.createElement(S.CardBody,null,l.a.createElement("h5",null,l.a.createElement("b",null,"You haven't created any Contacts yet... "))," "))))},a.loadShowContact=function(e,t){return void 0!==a.props.color&&a.callAlertTimer(),l.a.createElement("div",{className:"animated fadeIn"},l.a.createElement(S.Card,null,a.loadHeader(),l.a.createElement("div",{style:{marginBottom:20}},l.a.createElement("h6",null,l.a.createElement(S.Alert,{isOpen:e,color:void 0===a.props.color?"":a.props.color},a.props.content)),t.filter(a.searchingFor(a.state.searchContact)).map(function(e,t){return a.loadSingleContact(e,t)}))))},a.loadSingleContact=function(e,t){var n={marginTop:4};return l.a.createElement(S.ListGroup,{flush:!0,key:t,className:"animated fadeIn",onPointerEnter:function(e){return a.onHover(e,t)},onPointerLeave:function(e){return a.onHoverOff(e,t)}},l.a.createElement(S.ListGroupItem,{action:!0},l.a.createElement(S.Row,null,l.a.createElement(S.Col,{onClick:function(){a.attachDropDown(t)}},a.displayName(e,n),l.a.createElement(ce.k,{color:"#34aec1",style:{marginTop:5,marginLeft:10},size:17,onClick:function(){return a.attachDropDown(t,e.id)}})),l.a.createElement(S.Col,{lg:1,sm:1,md:1,xl:1},a.state.onHover&&a.state.hoverAccord[t]?a.loadDropDown(e,t,n):"")),l.a.createElement(S.Collapse,{isOpen:a.state.attachDropdown[t]},a.showAttachments(e.id,e))))},a.displayName=function(e,t){return l.a.createElement("span",{style:{styles:t}},l.a.createElement(ce.r,{size:20,style:{color:"#020e57"}})," ","\xa0",l.a.createElement("b",{style:{color:"#000000"}},e.name.length>20?e.name.slice(0,20)+"...":e.name),l.a.createElement(xt,{profileId:a.state.profileId,contactId:e.id,getCount:!0}))},a.loadDeleteContact=function(){return l.a.createElement(ve,{danger:a.state.danger,headerMessage:"Delete Contact",bodyMessage:"Are You Sure Want to Delete Contact?",toggleDanger:a.toggleDanger,delete:a.deleteContact,cancel:a.toggleDanger})},a.loadDropDown=function(e,t){return ye.loadDropDown(e,t,a.state.dropdownOpen[t],a.toggleDropDown,a.setContactID,a.toggleDanger,a.updateContact)},a.setContactID=function(e){a.setState({contactId:e.id})},a.state={contacts:[],singleContact:[],labels:[],contactId:0,name:"",createContact:!1,visible:e.visible,updateContact:!1,deleteContact:!1,profileId:0,accordion:[],danger:!1,isOpen:!1,addAttachRequest:!1,dropdownOpen:[],attachDropdown:[],onHover:!1,hoverAccord:[],spinner:!1,searchContact:""},a.searchHandler=a.searchHandler.bind(Object(et.a)(a)),a}return Object(h.a)(t,e),Object(E.a)(t,[{key:"changeBg",value:function(){var e=this.state.colors,t=e[Math.floor(Math.random()*e.length)];document.body.style.backgroundColor=t}},{key:"render",value:function(){var e=this.state,t=e.contacts,a=e.singleContact,n=e.createContact,r=e.updateContact,o=e.deleteContact,c=e.addAttachRequest,i=e.contactId,u=e.visible,d=e.profileId,m=e.spinner,p=e.labels;return null!==s.getProfile()&&0!==s.getProfile().length?0!==t.length||n?n?l.a.createElement(St,{profileId:d,lables:p}):r?l.a.createElement(Ct,{profileId:d,contact:a,lables:p}):o?l.a.createElement(vt,{contactId:i,profileId:d}):c?l.a.createElement(jt,{contacId:i,profileId:d}):l.a.createElement("div",null,this.loadShowContact(u,t),this.loadDeleteContact()):l.a.createElement("div",null,0!==t.length||n||m?this.loadContactEmpty():this.loadSpinner()):l.a.createElement(Ae,null)}},{key:"searchingFor",value:function(e){return function(t){return t.name.toLowerCase().includes(e.toLowerCase())||!e}}},{key:"callAlertTimer",value:function(){var e=this;this.state.visible&&setTimeout(function(){return e.setState({visible:!1})},1800)}},{key:"showAttachments",value:function(e,t){return l.a.createElement("div",{style:{paddingLeft:29,paddingTop:10}},l.a.createElement("span",{style:{color:"#000000"}},l.a.createElement("b",null,"Email: "),t.email,l.a.createElement("br",null),l.a.createElement("b",null,"Phone: "),t.phone,l.a.createElement("br",null)),l.a.createElement(xt,{contactId:e,profileId:this.state.profileId}))}}]),t}(n.Component),Bt=function(){function e(){Object(f.a)(this,e)}return Object(E.a)(e,[{key:"getUser",value:function(e,t){Ut(e,t,"/user","GET")}},{key:"updateUser",value:function(e,t,a){Ut(e,t,"/user","PUT",a)}},{key:"changePassword",value:function(e,t,a){Ut(e,t,"/user/passwd?new="+a.new+"&old="+a.old,"PUT")}}]),e}();function Ut(e,t,a,n,l){return Nt.apply(this,arguments)}function Nt(){return(Nt=Object(p.a)(m.a.mark(function e(t,a,n,l,r){var o,c;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=qt(n,l),e.prev=1,null!==r){e.next=8;break}return e.next=5,o.request();case 5:c=e.sent,e.next=11;break;case 8:return e.next=10,o.request({data:r});case 10:c=e.sent;case 11:s.saveUser(c.data),Rt(c,t),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),Ft(e.t0,a,n,l,r,t);case 18:case"end":return e.stop()}},e,null,[[1,15]])}))).apply(this,arguments)}var Ft=function(e,t,a,n,l,r){0===e.request.status?Mt(e,t):403===e.response.status||401===e.response.status?e.response.data.error.debugMessage?Mt("Wrong password supplied.",t):(new L).refresh(function(){Ut(r,t,a,n,l)},Mt(e,t)):Mt(e,t)},Rt=function(e,t){null!=t&&t(e.data)},Mt=function(e,t){null!=t&&t(e)};function qt(e,t){return P.a.create({baseURL:x.cloudBaseURL,method:t,url:e,headers:{"content-type":"application/json",Authorization:"Bearer "+s.getAppUserAccessToken()}})}var Ht=function(){function e(){Object(f.a)(this,e)}return Object(E.a)(e,[{key:"createBill",value:function(e,t,a,n){Vt(e,t,a+"/bills","POST",a,n)}},{key:"getBills",value:function(e,t,a,n){null===s.getBills()||"True"===n?Vt(e,t,a+"/bills","GET"):e(s.getBills())}},{key:"getBillById",value:function(e,t,a,n){Vt(e,t,a+"/bills/"+n,"GET")}},{key:"updateBill",value:function(e,t,a,n,l){Vt(e,t,n+"/bills/"+l,"PUT",n,a)}},{key:"deleteBill",value:function(e,t,a,n){Vt(e,t,a+"/bills/"+n,"DELETE",a)}}]),e}(),Gt=Ht;function Vt(e,t,a,n,l,r){return Yt.apply(this,arguments)}function Yt(){return(Yt=Object(p.a)(m.a.mark(function e(t,a,n,l,r,o){var c,i;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(c=Kt(n,l),e.prev=1,null!==o){e.next=8;break}return e.next=5,c.request();case 5:i=e.sent,e.next=11;break;case 8:return e.next=10,c.request({data:o});case 10:i=e.sent;case 11:"GET"===l?(s.saveBills(i.data),Wt(i,t)):((new Ht).getBills(t,a,r,"True"),Wt(i,t)),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),console.log(e.t0),zt(r,e.t0,a,n,l,o,t);case 18:case"end":return e.stop()}},e,null,[[1,14]])}))).apply(this,arguments)}var zt=function(e,t,a,n,l,r,o){0===t.request.status?(new Ht).getBills(o,a,e,"True"):403===t.response.status||401===t.response.status?(new L).refresh(function(){Vt(o,a,n,l,e,r)},Jt(t,a)):Jt(t,a)},Wt=function(e,t){null!=t&&t(e.data)},Jt=function(e,t){null!=t&&t(e)};function Kt(e,t){var a=s.getProfile();return P.a.create({baseURL:a.url+"/profile/",method:t,url:e,headers:{"content-type":"application/json",Authorization:"Bearer "+s.getAppUserAccessToken()}})}var Qt=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(g.a)(this,Object(b.a)(t).call(this,e))).componentDidMount=Object(p.a)(m.a.mark(function e(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(new ut).getCurrencyList(a.successCurrency,a.failureCurrency);case 1:case"end":return e.stop()}},e)})),a.successCurrency=function(e){a.setState({currencies:e})},a.failureCurrency=function(e){console.log(e)},a.cancelUpdateBill=function(){a.setState({cancelUpdateBill:!0})},a.handleSubmitValue=function(e,t,n){var l=a.state,r=l.labelOption,o=l.categoryOption,c=l.categoryOptionUpdate,i=l.labelOptionUpdate,s=l.contactOptionUpdate,u=l.contactOption;if(0===t.length){var d=new Date(n.bill_Date);if((new Date(n.due_Date)-d)/864e5>=0)if(n.bill_Date.split("-")[0]<1900)a.setState({alertColor:"danger",content:"Unsupported 'BillDate', Select a date after year 1900. Ex: 24/08/1995!!"});else{var m=n.bill_Date.split("-")[0]+n.bill_Date.split("-")[1]+n.bill_Date.split("-")[2],p=n.due_Date.split("-")[0]+n.due_Date.split("-")[1]+n.due_Date.split("-")[2],f=Object(Ie.a)({},n,{billDate:m,dueDate:p,categoryId:c?o.value:o,contactId:s?u.value:u,labelIds:null===r||r===[]?[]:i?r.map(function(e){return e.value}):r,version:a.props.bill.version});a.handleUpdate(e,f)}else a.setState({alertColor:"danger",content:"Unsupported Bill Date it should not be more than Due Date. Ex: Bill Date: 24/08/1995  && Due Date: 26/08/1995"}),setTimeout(function(){a.setState({content:"",alertColor:""})},x.notificationMillis)}},a.handleUpdate=function(e,t){(new Gt).updateBill(a.successCall,a.errorCall,t,a.state.profileId,a.props.bill.id)},a.successCall=function(e){a.callAlertTimer("success","Bill Updated Successfully... ")},a.errorCall=function(e){a.callAlertTimer("danger","Unable to process request, Please Try Again... ")},a.callAlertTimer=function(e,t){a.setState({alertColor:e,content:t}),setTimeout(function(){a.setState({name:"",alertColor:"",updateSuccess:!0})},x.notificationMillis)},a.labelSelected=function(e){a.setState({labelOption:e,labelOptionUpdate:!0})},a.categorySelected=function(e){a.setState({categoryOption:e,categoryOptionUpdate:!0})},a.contactSelected=function(e){a.setState({contactOption:e,contactOptionUpdate:!0})},a.loadHeader=function(){return l.a.createElement(S.CardHeader,null,l.a.createElement("strong",null,"Update Bill"))},a.loadUpdatingLabel=function(e,t,n,r,o,c){return l.a.createElement("div",{className:"animated fadeIn"},l.a.createElement(S.Card,null,a.loadHeader(),l.a.createElement(S.Col,{sm:"12",md:{size:7,offset:3}},l.a.createElement("br",null),""===e?"":l.a.createElement(S.Alert,{color:e},t),l.a.createElement(Q.AvForm,{onSubmit:a.handleSubmitValue},l.a.createElement(S.Row,null,l.a.createElement(S.Col,{sm:3},l.a.createElement(Q.AvField,{type:"select",id:"symbol",label:"currency",value:o.currency,name:"currency",errorMessage:"Select Currency",required:!0},l.a.createElement("option",{value:""},"Select"),a.state.currencies.map(function(e,t){return l.a.createElement("option",{key:t,value:e.code,h:e.symbol,symbol:e.symbol},e.symbol)}))),l.a.createElement(S.Col,null,l.a.createElement(Q.AvField,{name:"amount",id:"amount",label:"Amount",value:a.state.userAmount,placeholder:"Amount",type:"text",errorMessage:"Invalid amount",validate:{required:{value:!0},pattern:{value:"^([0-9]*[.])?[0-9]+$"}},required:!0}))),l.a.createElement(S.Row,null,l.a.createElement(S.Col,null,l.a.createElement(Q.AvField,{name:"tax",id:"tax",value:o.tax+"",placeholder:"tax",label:"Tax",type:"text",errorMessage:"Invalid amount",validate:{required:{value:!0},pattern:{value:"^[0-9]+$"}},required:!0}))),l.a.createElement(S.Row,null,l.a.createElement(S.Col,null,l.a.createElement("label",null,"Category"),l.a.createElement(tt.a,{options:yt.categories(r),defaultValue:yt.categories(r).filter(function(e){return e.value===o.categoryId}),styles:yt.singleStyles,placeholder:"Select Categories ",onChange:a.categorySelected,required:!0}))),l.a.createElement("br",null),l.a.createElement(S.Row,null,l.a.createElement(S.Col,null,l.a.createElement(Q.AvField,{name:"bill_Date",label:"Bill Date",value:a.loadDateFormat(o.billDate),type:"date",errorMessage:"Invalid Date",validate:{date:{format:"yyyy/MM/dd"},dateRange:{format:"YYYY/MM/DD",start:{value:"1900/01/01"},end:{value:"9999/12/31"}},required:{value:!0}}})),l.a.createElement(S.Col,null,l.a.createElement(Q.AvField,{name:"due_Date",label:"Due Date",value:a.loadDateFormat(o.dueDate),type:"date",max:"9999/12/30",errorMessage:"Invalid Date",validate:{date:{format:"yyyy/MM/dd"},dateRange:{format:"YYYY/MM/DD",start:{value:"1900/01/01"},end:{value:"9999/12/31"}},required:{value:!0}}}))),l.a.createElement(S.Row,null,l.a.createElement(S.Col,null,l.a.createElement("label",null,"Description/Notes"),l.a.createElement(Q.AvField,{name:"description",type:"text",value:o.description,list:"colors",errorMessage:"Invalid Notes",placeholder:"Enter Notes "}))),l.a.createElement(S.Row,null,l.a.createElement(S.Col,null,l.a.createElement("label",null,"Select Labels"),a.lablesOptions(n,o))),l.a.createElement("br",null),l.a.createElement(S.Row,null,l.a.createElement(S.Col,null,l.a.createElement("label",null,"Select Contacts"),l.a.createElement(tt.a,{options:yt.contacts(c),defaultValue:yt.contacts(c).filter(function(e){return e.value===o.contactId}),placeholder:"Select Contacts ",onChange:a.contactSelected,required:!0}))),l.a.createElement("br",null),l.a.createElement(S.FormGroup,null,l.a.createElement(S.Button,{color:"info"}," Update ")," \xa0\xa0",l.a.createElement(S.Button,{type:"button",onClick:a.cancelUpdateBill},"Cancel"))))))},a.loadDateFormat=function(e){var t=""+e,a=t.substring(0,4)+"-"+t.substring(4,6)+"-"+t.substring(6,8),n=new Date(a);return new Intl.DateTimeFormat("sv-SE",{day:"2-digit",month:"2-digit",year:"numeric"}).format(n)},a.lablesOptions=function(e,t){var n=yt.labels(e),r=null===t.labelIds?"":t.labelIds.map(function(e){return n.filter(function(t){return t.value===e})}).flat();return l.a.createElement(tt.a,{isMulti:!0,options:n,defaultValue:r,styles:yt.colourStyles,placeholder:"Select Lables ",autoFocus:!0,onChange:a.labelSelected})},a.state={alertColor:"#000000",content:"",updateSuccess:!1,profileId:e.pid,labels:e.lables,categories:e.categories,contacts:e.contacts,bill:e.bill,labelOption:e.bill.labelIds,categoryOptionUpdate:!1,labelOptionUpdate:!1,contactOptionUpdate:!1,contactOption:e.bill.coontactId,categoryOption:e.bill.categoryId,currencies:[],userAmount:e.bill.amount,cancelUpdateBill:!1},a}return Object(h.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.state,t=e.alertColor,a=e.content,n=e.updateSuccess,r=e.labels,o=e.categories,c=e.bill,i=e.cancelUpdateBill,s=e.contacts;return i?l.a.createElement(_t,null):l.a.createElement("div",null,n?l.a.createElement(_t,null):this.loadUpdatingLabel(t,a,r,o,c,s))}}]),t}(n.Component),Zt=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(g.a)(this,Object(b.a)(t).call(this,e))).componentDidMount=function(){(new ut).getCurrencyList(a.successCurrency,a.failureCurrency)},a.successCurrency=function(e){a.setState({currencies:e})},a.failureCurrency=function(e){console.log(e)},a.cancelCreateBill=function(){a.setState({cancelCreateBill:!0})},a.handleSubmitValue=function(e,t,n){var l=a.state,r=l.labelOption,o=l.categoryOption,c=l.contactOption;if(null===o)a.callAlertTimer("warning","Please Select Category...");else if(0===t.length){var i,s,u=new Date(n.bill_Date);if((new Date(n.due_Date)-u)/864e5>=0)if(n.bill_Date.split("-")[0]<1900)a.callAlertTimer("danger","Unsupported 'BillDate', Select a date after year 1900. Ex: 24/08/1995!!");else{s=n.bill_Date.split("-")[0]+n.bill_Date.split("-")[1]+n.bill_Date.split("-")[2],i=n.due_Date.split("-")[0]+n.due_Date.split("-")[1]+n.due_Date.split("-")[2];var d=Object(Ie.a)({},n,{billDate:s,dueDate:i,categoryId:o.value,contactId:c.value,labelIds:r===[]?"":r.map(function(e){return e.value})});a.handlePostData(e,d)}else a.callAlertTimer("danger","Due Date should be greater than or equal to Bill Date")}},a.handlePostData=function(){var e=Object(p.a)(m.a.mark(function e(t,n){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.persist(),delete n.bill_Date,delete n.due_Date,a.setState({doubleClick:!0}),e.next=6,(new Gt).createBill(a.successCreate,a.errorCall,a.state.profileId,n);case 6:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.successCreate=function(){a.callAlertTimer("success","New Bill Created....")},a.errorCall=function(e){a.callAlertTimer("danger","Unable to Process Request, Please try Again....")},a.callAlertTimer=function(e,t){a.setState({alertColor:e,content:t}),"success"===e&&setTimeout(function(){a.setState({name:"",content:"",alertColor:"",billCreated:!0})},x.notificationMillis)},a.selectLabels=function(e,t,n,l){return a.loadCreatingBill(e,a.state.labels,t,n,l)},a.loadCreatingBill=function(e,t,n,r,o){return l.a.createElement("div",{className:"animated fadeIn"},l.a.createElement(S.Card,null,l.a.createElement("h4",{style:{paddingTop:20}},l.a.createElement("b",null,l.a.createElement("center",null,"CREATE BILL"))),l.a.createElement(S.Col,{sm:"12",md:{size:7,offset:3}},l.a.createElement(S.Alert,{color:e},n),l.a.createElement(Q.AvForm,{onSubmit:a.handleSubmitValue},l.a.createElement(S.Row,null,l.a.createElement(S.Col,{sm:3},l.a.createElement(Q.AvField,{type:"select",id:"symbol",name:"currency",label:"Currency",errorMessage:"Select Currency",required:!0},l.a.createElement("option",{value:""},"Select"),a.state.currencies.map(function(e,t){return l.a.createElement("option",{key:t,value:e.code,data:e.symbol,symbol:e.symbol},e.symbol)}))),l.a.createElement(S.Col,{sm:9},l.a.createElement(Q.AvField,{name:"amount",id:"amount",label:"Amount",placeholder:"Amount",type:"number",errorMessage:"Invalid amount",validate:{required:{value:!0},pattern:{value:"^([0-9]*[.])?[0-9]+$"}},required:!0}))),l.a.createElement(S.Row,null,l.a.createElement(S.Col,null,l.a.createElement(Q.AvField,{name:"tax",id:"tax",placeholder:"tax",value:"0",label:"Tax",type:"text",errorMessage:"Invalid amount",validate:{required:{value:!0},pattern:{value:"^[0-9]+$"}},required:!0}))),l.a.createElement(S.Row,null,l.a.createElement(S.Col,null,l.a.createElement("label",null,"Category"),l.a.createElement(tt.a,{options:yt.categories(r),styles:yt.singleStyles,placeholder:"Select Categories ",onChange:a.categorySelected,required:!0}))),l.a.createElement("br",null),l.a.createElement(S.Row,null,l.a.createElement(S.Col,null,l.a.createElement(Q.AvField,{name:"bill_Date",label:"Bill Date",value:a.state.userBillDate,type:"date",errorMessage:"Invalid Date",validate:{date:{format:"dd/MM/yyyy"},dateRange:{format:"YYYY/MM/DD",start:{value:"1900/01/01"},end:{value:"9999/12/31"}},required:{value:!0}}})),l.a.createElement(S.Col,null,l.a.createElement(Q.AvField,{name:"due_Date",label:"Due Date",value:a.state.userDueDate,type:"date",errorMessage:"Invalid Date",validate:{date:{format:"yyyy/MM/dd"},dateRange:{format:"YYYY/MM/DD",start:{value:"1900/01/01"},end:{value:"9999/12/31"}},required:{value:!0}}}))),l.a.createElement(S.Row,null,l.a.createElement(S.Col,null,l.a.createElement("label",null,"Description/Notes"),l.a.createElement(Q.AvField,{name:"description",type:"text",list:"colors",errorMessage:"Invalid Notes",placeholder:"Enter Notes "}))),l.a.createElement(S.Row,null,l.a.createElement(S.Col,null,l.a.createElement("label",null,"Select Labels"),l.a.createElement(tt.a,{isMulti:!0,options:yt.labels(t),styles:yt.colourStyles,placeholder:"Select Lables ",onChange:a.labelSelected}))),l.a.createElement("br",null),l.a.createElement(S.Row,null,l.a.createElement(S.Col,null,l.a.createElement("label",null,"Contact Name"),l.a.createElement(tt.a,{options:yt.contacts(o),placeholder:"Select Contact ",onChange:a.contactSelected}))),l.a.createElement("br",null),l.a.createElement(S.FormGroup,null,l.a.createElement(S.Button,{color:"success",disabled:a.state.doubleClick}," Save  ")," \xa0\xa0",l.a.createElement(S.Button,{type:"button",onClick:a.cancelCreateBill},"Cancel"))))))},a.labelSelected=function(e){a.setState({labelOption:e})},a.categorySelected=function(e){a.setState({categoryOption:e,alertColor:"",content:""})},a.contactSelected=function(e){a.setState({contactOption:e})},a.state={labels:e.label,contacts:e.contacts,categories:e.categories,billCreated:!1,profileId:e.pid,alertColor:"",content:"",labelOption:[],categoryOption:null,currencies:[],contactOption:"",cancelCreateBill:!1,doubleClick:!1},a}return Object(h.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.state,t=e.alertColor,a=e.content,n=e.categories,r=e.cancelCreateBill,o=e.contacts,c=e.billCreated;return r?l.a.createElement(_t,null):l.a.createElement("div",null,c?l.a.createElement(_t,null):this.selectLabels(t,a,n,o))}}]),t}(n.Component),Xt=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(g.a)(this,Object(b.a)(t).call(this,e))).componentDidMount=function(){(new Gt).deleteBill(a.successCall,a.errorCall,a.state.profileId,a.state.id)},a.successCall=function(){a.callAlertTimer("success","Bill Deleted Successfully....")},a.errorCall=function(){a.callAlertTimer("danger","Something went wrong, Please Try Again...  ")},a.callAlertTimer=function(e,t){a.setState({color:e,content:t}),setTimeout(function(){a.setState({color:"",content:"",labelDeleted:!0})},x.notificationMillis)},a.loadDeleting=function(e,t){return l.a.createElement("div",{className:"animated fadeIn"},l.a.createElement(S.Card,null,l.a.createElement(S.CardHeader,null,l.a.createElement("strong",null,"Delete Bill")),l.a.createElement(S.CardBody,null,l.a.createElement(S.Col,{sm:"12",md:{size:5,offset:4}},l.a.createElement(S.Alert,{color:e},t)))))},a.state={id:e.id,profileId:e.pid,labelDeleted:!1,color:"warning",content:"Deleting Bill....."},a}return Object(h.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.state,t=e.labelDeleted,a=e.content,n=e.color;return l.a.createElement("div",null,t?l.a.createElement(_t,null):this.loadDeleting(n,a))}}]),t}(n.Component),_t=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(g.a)(this,Object(b.a)(t).call(this,e))).componentDidMount=function(){a.setProfileId()},a.setProfileId=Object(p.a)(m.a.mark(function e(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null===s.getProfile()||0===s.getProfile().length){e.next=4;break}return e.next=3,a.setState({profileId:s.getProfile().id});case 3:a.getCategory();case 4:case"end":return e.stop()}},e)})),a.getCategory=function(){(new Ge).getCategories(a.successCallCategory,a.errorCall,a.state.profileId)},a.successCallCategory=function(){var e=Object(p.a)(m.a.mark(function e(t){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==[]){e.next=4;break}a.setState({categories:[0]}),e.next=8;break;case 4:return e.next=6,a.setState({categories:t});case 6:return e.next=8,(new Gt).getBills(a.successCallBill,a.errorCall,a.state.profileId);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.successCallBill=function(){var e=Object(p.a)(m.a.mark(function e(t){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==[]){e.next=4;break}a.setState({bills:[0]}),e.next=7;break;case 4:return e.next=6,a.bills(t);case 6:a.loadCollapse();case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.callCreateBill=function(){a.setState({createBill:!0})},a.loadCollapse=Object(p.a)(m.a.mark(function e(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.state.bills.map(function(e){return a.setState(function(e){return{accordion:[].concat(Object(Ne.a)(e.accordion),[!1]),hoverAccord:[].concat(Object(Ne.a)(e.hoverAccord),[!1]),dropdownOpen:[].concat(Object(Ne.a)(e.dropdownOpen),[!1])}})});case 2:(new De).getSublabels(a.successCallLabel,a.errorCall,a.state.profileId);case 3:case"end":return e.stop()}},e)})),a.successCallLabel=function(){var e=Object(p.a)(m.a.mark(function e(t){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.setState({spinner:!0}),t!==[]){e.next=5;break}a.setState({labels:[0]}),e.next=8;break;case 5:return e.next=7,a.setState({labels:t});case 7:(new nt).getContacts(a.successCallContact,a.errorCall,a.state.profileId);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.successCallContact=function(){var e=Object(p.a)(m.a.mark(function e(t){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.setState({spinner:!0}),t!==[]){e.next=5;break}a.setState({contacts:[0]}),e.next=7;break;case 5:return e.next=7,a.setState({contacts:t});case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.bills=function(e){var t=e.map(function(e,t){return Object(Ie.a)({},e,{categoryName:a.displayCategoryName(e.categoryId)})});a.setState({bills:t})},a.errorCall=function(e){a.setState({visible:!0})},a.toggleDanger=function(){a.setState({danger:!a.state.danger})},a.updateBill=function(e){a.setState({updateBill:!0,rebill:e})},a.deleteBill=function(){a.setState({deleteBill:!0})},a.toggleAccordion=function(e){var t=a.state.accordion.map(function(t,a){return e===a&&!t});a.setState({accordion:t})},a.toggleDropDown=function(e){var t=a.state.dropdownOpen.map(function(t,a){return e===a&&!t});a.setState({dropdownOpen:t})},a.hoverAccordion=function(e){var t=a.state.hoverAccord.map(function(t,a){return e===a&&!t});a.setState({hoverAccord:t})},a.onHover=function(e,t){a.setState({onHover:!0}),a.hoverAccordion(t)},a.onHoverOff=function(e,t){a.setState({onHover:!1}),a.hoverAccordion(t)},a.searchSelected=function(e){a.setState({selectedOption:e.target.value}),null!==a.state.selectedOption&&a.setState({searchName:!0})},a.searchingFor=function(e){return function(t){return(t.description.toLowerCase()+t.amount+t.categoryName.name.toLowerCase()).includes(e.toLowerCase())||!e}},a.loadHeader=function(){return l.a.createElement("div",{style:{paddingTop:20,paddingRight:10}},l.a.createElement(S.CardHeader,null,l.a.createElement(S.Row,null,l.a.createElement(S.Col,{sm:3},l.a.createElement("strong",{style:{fontSize:20,marginLeft:20}},"BILLS")),l.a.createElement(S.Col,null,0!==a.state.bills.length&&l.a.createElement(S.InputGroup,null,l.a.createElement(S.Input,{placeholder:"Search Bills.....",onChange:a.searchSelected}),l.a.createElement(S.InputGroupAddon,{addonType:"append"}," ",l.a.createElement(S.InputGroupText,null,l.a.createElement(ce.o,null))))),l.a.createElement(S.Col,{sm:3}," ",l.a.createElement(S.Button,{color:"success",className:"float-right",onClick:a.callCreateBill}," + Add ")))))},a.loadLoader=function(){return l.a.createElement("div",{className:"animated fadeIn"},l.a.createElement(S.Card,null,a.loadHeader(),l.a.createElement("center",{style:{paddingTop:"20px"}},l.a.createElement(S.CardBody,null,l.a.createElement(I.a,{type:"TailSpin",color:"#2E86C1",height:60,width:60})))))},a.loadNotBill=function(){return l.a.createElement("div",{className:"animated fadeIn"},l.a.createElement(S.Card,null,a.loadHeader(),l.a.createElement("center",{style:{paddingTop:"20px"}},l.a.createElement(S.CardBody,null,l.a.createElement("h5",null,l.a.createElement("b",null,"You haven't created any Bills yet... ")),l.a.createElement("br",null)))))},a.loadShowBill=function(e,t){return l.a.createElement("div",{className:"animated fadeIn"},l.a.createElement(S.Card,null,a.loadHeader(),l.a.createElement("div",{style:{margin:30,paddingLeft:50}},l.a.createElement("h6",null,l.a.createElement(S.Alert,{isOpen:e,color:"danger"},"Unable to Process Request, Please try Again....")),a.state.searchName?t.filter(a.searchingFor(a.state.selectedOption)).map(function(e,t){return a.loadSingleBill(e,t)}):t.map(function(e,t){return a.loadSingleBill(e,t)}))))},a.loadSingleBill=function(e,t){return l.a.createElement(S.ListGroup,{flush:!0,key:t,className:"animated fadeIn",onPointerEnter:function(e){return a.onHover(e,t)},onPointerLeave:function(e){return a.onHoverOff(e,t)}},l.a.createElement(S.ListGroupItem,{action:!0},l.a.createElement(S.Row,null,l.a.createElement(S.Col,{sm:{size:"auto",offset:0},lg:1,style:{backgroundColor:"#054FF8",color:"#FFFFFF",paddingTop:10}},l.a.createElement("strong",{style:{paddingTop:5}},l.a.createElement("center",null,a.dateFormat(e.billDate)))),l.a.createElement(S.Col,{sm:8},l.a.createElement(S.Row,{style:{paddingLeft:10}},e.description),l.a.createElement(S.Row,{style:{paddingLeft:10,fontStyle:"oblique",color:e.categoryName.color}},e.categoryName.name)),l.a.createElement(S.Col,{style:{marginTop:10},className:"float-right"},l.a.createElement("b",{style:{color:"#F80505"}},new Intl.NumberFormat("en-US",{style:"currency",currency:e.currency}).format(e.amount))),l.a.createElement(S.Col,null,a.state.onHover&&a.state.hoverAccord[t]?a.loadDropDown(e,t,{margin:6}):""))))},a.dateFormat=function(e){var t=e.toString().split(""),a=t[0]+t[1]+t[2]+t[3],n=t[4]+t[5],l=t[6]+t[7],r=new Date(a,n,l);return new Intl.DateTimeFormat("en-gb",{month:"short",weekday:"short",day:"2-digit"}).format(r)},a.searchingCat=function(e){return function(t){return t.name.includes(e)||!e}},a.displayCategoryName=function(e){var t=a.state.categories,n=t.filter(function(t){return t.id===e});if(0===n.length)return t.map(function(t){return Array.isArray(t.subCategories)&&t.subCategories.forEach(function(t){if(t.id===e)return n={name:t.name,color:""===t.color||null===t.color?"#000000":t.color}}),0}),n;var l=!0,r=!1,o=void 0;try{for(var c,i=n[Symbol.iterator]();!(l=(c=i.next()).done);l=!0){var s=c.value;return{name:s.name,color:""===s.color||null===s.color?"#000000":s.color}}}catch(u){r=!0,o=u}finally{try{l||null==i.return||i.return()}finally{if(r)throw o}}},a.loadDropDown=function(e,t,n){return l.a.createElement(S.Dropdown,{isOpen:a.state.dropdownOpen[t],style:{marginTop:7,float:"right"},toggle:function(){a.toggleDropDown(t)},size:"sm"},l.a.createElement(S.DropdownToggle,{tag:"span",onClick:function(){a.toggleDropDown(t)},"data-toggle":"dropdown","aria-expanded":a.state.dropdownOpen[t]},l.a.createElement(ce.g,{style:n})),l.a.createElement(S.DropdownMenu,null,l.a.createElement(S.DropdownItem,{onClick:function(){a.updateBill(e)}}," Update "),l.a.createElement(S.DropdownItem,{onClick:function(){a.setState({id:e.id}),a.toggleDanger()}}," Delete")))},a.loadDeleteBill=function(){return l.a.createElement(S.Modal,{isOpen:a.state.danger,toggle:a.toggleDanger,style:{paddingTop:"20%"},backdrop:!0},l.a.createElement(S.ModalHeader,{toggle:a.toggleDanger},"Delete Bill"),l.a.createElement(S.ModalBody,null," Are you Sure want to Delete This Bill ? "),l.a.createElement(S.ModalFooter,null,l.a.createElement(S.Button,{color:"danger",onClick:a.deleteBill},"Delete"),l.a.createElement(S.Button,{color:"secondary",onClick:a.toggleDanger},"Cancel")))},a.state={bills:[],labels:[],categories:[],collapse:[],contacts:[],rebill:[],createBill:!1,updateBill:!1,deleteBill:!1,visible:!1,dropdownOpen:[],hoverAccord:[],accordion:[],profileId:"",danger:!1,onHover:!1,spinner:!1,selectedOption:"",searchName:!1},a}return Object(h.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.state,t=e.bills,a=e.createBill,n=e.updateBill,r=e.id,o=e.deleteBill,c=e.visible,i=e.profileId,s=e.rebill,u=e.spinner,d=e.labels,m=e.categories,p=e.contacts;return null===i||void 0===i||""===i?l.a.createElement(Ae,null):0!==t.length||a?a?l.a.createElement(Zt,{pid:i,label:d,categories:m,contacts:p}):n?l.a.createElement(Qt,{pid:i,bill:s,lables:d,categories:m,contacts:p}):o?l.a.createElement(Xt,{id:r,pid:i}):l.a.createElement("div",null,this.loadShowBill(c,t),this.loadDeleteBill()):l.a.createElement("div",null,u?0!==t.length||a?"":this.loadNotBill():this.loadLoader())}}]),t}(n.Component),$t=function(e){function t(){var e,a;Object(f.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(g.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(l)))).componentDidMount=Object(p.a)(m.a.mark(function e(){var t,n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.match.params.id,n=s.getUserProfiles().filter(function(e){return t===e.id.toString()}),e.next=4,s.saveProfile(n[0]);case 4:return e.next=6,s.setSelectedValue(!0);case 6:return e.next=8,s.userDataClear();case 8:case"end":return e.stop()}},e)})),a}return Object(h.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return l.a.createElement(K.a,{to:"/profiles"})}}]),t}(l.a.Component),ea=Object(c.a)(function(e){var t=Object(n.useState)("Web Money"),a=Object(Se.a)(t,2),r=a[0],o=a[1],c=Object(n.useState)(!1),i=Object(Se.a)(c,2),u=i[0],d=i[1],f=Object(n.useState)(!1),E=Object(Se.a)(f,2),g=E[0],b=E[1],h=Object(n.useState)(""),y=Object(Se.a)(h,2),C=y[0],v=y[1],w=Object(n.useState)(!1),k=Object(Se.a)(w,2),O=k[0],I=k[1],T=function(){var e=Object(p.a)(m.a.mark(function e(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.userDataClear();case 2:j();case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),j=function(){I(O=!0),setTimeout(function(){I(O=!1)},x.notificationMillis)},P=function(){b(g=!g)},L=function(){var e=Object(p.a)(m.a.mark(function e(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==s.getProfile()){e.next=4;break}o(r="Web Money"),e.next=6;break;case 4:return e.next=6,o(r=s.getProfile().name);case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){L(),B()});var B=function(){var e=s.getUser();e&&v(C=e.name)};return l.a.createElement(l.a.Fragment,null,l.a.createElement(A.g,{className:"d-lg-none",display:"md",mobile:!0}),l.a.createElement(A.d,null,l.a.createElement("span",{onClick:function(t){d(u=!u),e.onFlagChange()}},l.a.createElement(ce.t,{style:{marginLeft:5,position:"relative"},size:25}),l.a.createElement("strong",{style:{marginLeft:5,marginTop:10}},r?r.length<=13?r:r.slice(0,11)+"...":""),"\xa0",u?l.a.createElement(ce.d,{style:{color:"#0e2f73"}}):l.a.createElement(ce.c,null))),l.a.createElement(S.Nav,{className:"d-md-down-none",navbar:!0}),l.a.createElement(S.Nav,{className:"ml-auto",navbar:!0},O?"":l.a.createElement(ce.p,{style:{paddingTop:"10px",marginRight:10,marginBottom:10,color:"#228B22"},"data-toggle":"tooltip",boundary:"scrollParent","data-placement":"bottom",title:"Refresh",size:25,onClick:T}),l.a.createElement(A.c,{direction:"down"},l.a.createElement(S.DropdownToggle,{nav:!0},l.a.createElement("b",null,C),"\xa0",l.a.createElement(ce.b,{size:18,style:{color:"darkblue",marginRight:25}})),l.a.createElement(S.DropdownMenu,{right:!0,style:{right:"auto"}},l.a.createElement(S.DropdownItem,{header:!0,tag:"div",className:"text-center"},l.a.createElement("strong",null," Settings")),l.a.createElement(S.DropdownItem,null,l.a.createElement(D.a,{to:"/billing/address"},l.a.createElement(ce.a,{style:{color:"#F16939",marginRight:15}}),"Billing Address")," "),l.a.createElement(S.DropdownItem,null,l.a.createElement(D.a,{to:"/billing/paymentHistory"},l.a.createElement(ce.n,{style:{color:"green",marginRight:15}}),"Payment History")," "),l.a.createElement(S.DropdownItem,null,l.a.createElement(D.a,{to:"/editUser"},l.a.createElement(ce.s,{style:{color:"#AB2504",marginRight:15}}),"Edit User")," "),l.a.createElement(S.DropdownItem,null,l.a.createElement(D.a,{to:"/changePassword"},l.a.createElement(ce.i,{style:{color:"#101011",marginRight:15}}),"Change Password")," "),l.a.createElement(S.DropdownItem,{onClick:function(e){return P()}},l.a.createElement(ce.m,{style:{color:"red",marginRight:15}}),"Logout")))),l.a.createElement(S.Modal,{isOpen:g,toggle:P},l.a.createElement(S.ModalHeader,{toggle:P},"Sign Out"),l.a.createElement(S.ModalBody,null,"Are you Sure you want to Signout ?"),l.a.createElement(S.ModalFooter,null,l.a.createElement(Ia,null," Signout "),l.a.createElement(S.Button,{color:"secondary",onClick:P},"Cancel"))))}),ta=function(){function e(){Object(f.a)(this,e)}return Object(E.a)(e,[{key:"createBillingAddress",value:function(e,t,a){aa(e,t,"/billing/address","POST",a)}},{key:"getBillings",value:function(e,t){aa(e,t,"/billing/address","GET")}},{key:"getBillingItems",value:function(e,t){aa(e,t,"/billing/items","GET")}},{key:"getPaymentsHistory",value:function(e,t){aa(e,t,"/billing/payments","GET")}}]),e}();function aa(e,t,a,n,l){return na.apply(this,arguments)}function na(){return(na=Object(p.a)(m.a.mark(function e(t,a,n,l,r){var o,c;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=ca(n,l),e.prev=1,null!==r){e.next=8;break}return e.next=5,o.request();case 5:c=e.sent,e.next=11;break;case 8:return e.next=10,o.request({data:r});case 10:c=e.sent;case 11:ra(c,t),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),oa(e.t0,a),la(e.t0,a,n,l,r,t);case 18:case"end":return e.stop()}},e,null,[[1,14]])}))).apply(this,arguments)}var la=function(e,t,a,n,l,r){0===e.request.status||(403===e.response.status||401===e.response.status?(new L).refresh(function(){aa(r,t,a,n,l)},oa(e,t)):oa(e,t))},ra=function(e,t){null!=t&&(""===e.data?t(null):t(e.data))},oa=function(e,t){null!=t&&t(e)};function ca(e,t){return P.a.create({baseURL:x.cloudBaseURL,method:t,url:e,headers:{"content-type":"application/json",Authorization:"Bearer "+s.getAppUserAccessToken()}})}var ia=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(g.a)(this,Object(b.a)(t).call(this,e))).componentDidMount=function(){(new ut).getCountrylist(a.successCall,a.errorCall)},a.successCall=function(e){a.setState({countries:e})},a.handleSubmitValue=function(e,t,n){var l=a.state.updateBill,r="";0===t.length&&(n.country||l.country?(n.country?r=Object(Ie.a)({},n):(n.country=l.country,r=Object(Ie.a)({},n)),a.handlePostData(e,r)):a.callAlertTimer("danger","Country should not be empty"))},a.handlePostData=function(e,t){a.setState({doubleClick:!0}),setTimeout(function(){(new ta).createBillingAddress(a.successCreate,a.errorCall,t)},x.notificationMillis)},a.successCreate=function(){a.callAlertTimer("success","Saved Billing Address")},a.errorCall=function(e){a.callAlertTimer("danger","Unable to Process Request, Please try Again....")},a.callAlertTimer=function(e,t){a.setState({alertColor:e,content:t}),"success"===e&&setTimeout(function(){a.setState({name:"",content:"",alertColor:"",navigateToBilling:!0,doubleClick:!1})},x.notificationMillis)},a.loadCreatingBill=function(e,t,n){var r={color:"#000000",fontSize:"1.0em"};return l.a.createElement("div",{className:"animated fadeIn"},l.a.createElement(S.Card,null,l.a.createElement("h4",{style:{paddingTop:20}},l.a.createElement("b",null,l.a.createElement("center",null," BILLING ADDRESS"))),l.a.createElement(S.Col,{sm:"12",md:{size:8,offset:2},style:r},l.a.createElement(S.Alert,{color:e},t),l.a.createElement(Q.AvForm,{onSubmit:a.handleSubmitValue},l.a.createElement(S.Row,null,l.a.createElement(S.Col,null,l.a.createElement(Q.AvField,{name:"firstName",placeholder:"First Name",style:r,value:n.firstName,required:!0})),l.a.createElement(S.Col,null,l.a.createElement(Q.AvField,{name:"lastName",placeholder:"Last Name",style:r,value:n.lastName})),l.a.createElement(S.Col,null,l.a.createElement(Q.AvField,{name:"company",placeholder:"Organization",style:r,value:n.company,validate:{pattern:{value:"^[a-zA-Z0-9_.-]*"}},required:!0}))),l.a.createElement(S.Row,null,l.a.createElement(S.Col,null,l.a.createElement(Q.AvField,{name:"addressLine1",placeholder:"Address 1",style:r,value:n.addressLine1,helpMessage:"H.No 1-1-1/1, xyz  street",required:!0})),l.a.createElement(S.Col,null,l.a.createElement(Q.AvField,{name:"addressLine2",placeholder:"Address 2",style:r,value:n.addressLine2}))),l.a.createElement(S.Row,null,l.a.createElement(S.Col,null,l.a.createElement(Q.AvField,{name:"postCode",placeholder:"Postal Code",style:r,value:n.postCode,errorMessage:"Postal Code"})),l.a.createElement(S.Col,null,l.a.createElement(Q.AvField,{name:"city",placeholder:"City",style:r,value:n.city}))),l.a.createElement(S.Row,null,l.a.createElement(S.Col,null,l.a.createElement(Q.AvField,{name:"region",placeholder:"State",style:r,value:n.region})),l.a.createElement(S.Col,null,l.a.createElement(Q.AvField,{style:r,type:"select",id:"country",name:"country",errorMessage:"Select Country",onClick:function(){return a.setState({alertColor:"",content:""})}},a.selectOPtionCuntry(n),a.state.countries.map(function(e,t){return l.a.createElement("option",{key:t,value:e.code},e.name)})))),l.a.createElement("center",null,l.a.createElement(S.FormGroup,{row:!0},l.a.createElement(S.Col,null,l.a.createElement(S.Button,{color:"info",disabled:a.state.doubleClick}," Save ")," \xa0 \xa0",l.a.createElement(S.Button,{active:!0,color:"light",type:"button",onClick:function(){return a.setState({navigateToBilling:!0})}},"Cancel"))))))))},a.selectOPtionCuntry=function(e){return l.a.createElement(l.a.Fragment,null,""===e.country?l.a.createElement("option",{value:""},"Select Country"):a.state.countries.map(function(t,a){return t.code===e.country?l.a.createElement("option",{key:a,value:t.code}," ",e.country," "):0}))},a.state={navigateToBilling:!1,alertColor:"",content:"",doubleClick:!1,countries:[],updateBill:e.location.state.updateBill},a}return Object(h.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.state,t=e.alertColor,a=e.content,n=e.navigateToBilling,r=e.updateBill;return n?l.a.createElement(K.a,{to:{pathname:"/billing/address"}}):l.a.createElement("div",null,this.loadCreatingBill(t,a,r))}}]),t}(n.Component),sa={addressLine1:"",addressLine2:"",city:"",company:"",country:"",firstName:"",lastName:"",postCode:"",region:""},ua=function(e){function t(){var e,a;Object(f.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(g.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={billing:[],visible:!1,spinner:!1,addBilling:!1,updateBill:!1},a.componentDidMount=Object(p.a)(m.a.mark(function e(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new ta).getBillings(a.successcall,a.errorcall);case 2:case"end":return e.stop()}},e)})),a.successcall=function(){var e=Object(p.a)(m.a.mark(function e(t){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t&&" "!==t){e.next=5;break}return e.next=3,a.setState({billing:sa,spinner:!0});case 3:e.next=7;break;case 5:return e.next=7,a.setState({billing:t});case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.errorcall=function(){a.setState({visible:!0})},a.EditBillingAddress=function(){a.setState({addBilling:!0,spinner:!0})},a.updateBillingAddress=function(){a.setState({updateBill:!0})},a.billingAddress=function(e,t){return l.a.createElement("div",{className:"animated fadeIn"},l.a.createElement(S.Card,null,l.a.createElement(S.CardHeader,null,l.a.createElement("strong",null,"Billing Address"),l.a.createElement(D.a,{to:{pathname:"/billing/address/add",state:{updateBill:e}}},l.a.createElement(S.Button,{color:"success",className:"float-right",onClick:a.EditBillingAddress}," Update "))),l.a.createElement(S.CardBody,null,l.a.createElement(S.Alert,{isOpen:t,color:"danger"},"Unable to process, Please try Again.... "),null!==e&&l.a.createElement(S.CardBody,null,l.a.createElement("center",{className:"text-sm-left"},l.a.createElement("b",null,e.firstName," ",e.lastName),l.a.createElement("br",null),l.a.createElement("p",null,e.addressLine1+", ",e.addressLine2&&e.addressLine2+","," ",l.a.createElement("br",null),e.city&&e.city+", ",e.region&&e.region+", ",e.city&&e.region&&l.a.createElement("br",null),e.country," ",e.postCode&&" - "+e.postCode))))))},a.loadHeader=function(e){return l.a.createElement(S.CardHeader,null,l.a.createElement("strong",null,"Billing Address"),l.a.createElement(D.a,{to:{pathname:"/billing/address/add",state:{updateBill:e}}},l.a.createElement(S.Button,{color:"success",className:"float-right",onClick:a.EditBillingAddress}," + Billing Address")))},a.showingNoBillingMessage=function(e){return l.a.createElement("div",{className:"animated fadeIn"},l.a.createElement(S.Card,null,a.loadHeader(e),l.a.createElement("center",{style:{paddingTop:"20px"}},l.a.createElement(S.CardBody,null," ",l.a.createElement("b",null,"No Billing Address added, Please Add Now...")))))},a}return Object(h.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.state,t=e.billing,a=e.visible;return e.addBilling?l.a.createElement(ia,{updateBill:t}):t.country?this.billingAddress(t,a):this.showingNoBillingMessage(t)}}]),t}(n.Component),da=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(g.a)(this,Object(b.a)(t).call(this,e))).componentDidMount=function(){(new ta).getPaymentsHistory(a.successCall,a.errorCall),(new ut).getCurrencyList(a.getCurrency,a.errorCall)},a.successCall=function(){var e=Object(p.a)(m.a.mark(function e(t){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({paymentDetails:t,spinner:!0});case 2:0!==t.length&&a.calculateCurrentBal(t);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.calculateCurrentBal=function(e){var t=0;e.map(function(e,a){return t+=e.amount});var n=a.getDaysDiff(new Date(e[e.length-1].created),new Date);a.setState({currentTotalBalance:t-1*n})},a.getDaysDiff=function(e,t){var a=t.getTime()-e.getTime();return Math.round(a/864e5)},a.getCurrency=function(e){a.setState({currenciesSymbol:e})},a.errorCall=function(e){a.callAlertTimer("danger","Unable to Process Request, Please Try Again")},a.callAlertTimer=function(e,t){a.setState({color:e,content:t}),setTimeout(function(){a.setState({color:"",content:""})},x.apiTimeoutMillis)},a.loadSpinner=function(){return l.a.createElement("div",{className:"animated fadeIn"},l.a.createElement(S.Card,null,a.loadHeader(),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("center",{style:{paddingTop:"20px"}},l.a.createElement(S.CardBody,null,l.a.createElement(I.a,{type:"TailSpin",color:"#2E86C1",height:60,width:60})))))},a.loadHeader=function(){return l.a.createElement(S.CardHeader,null,l.a.createElement("strong",null,"Billing Payments"),l.a.createElement(D.a,{to:"/billing/addCredits"},l.a.createElement(S.Button,{color:"success",className:"float-right"}," + Add Credits ")))},a.loadPayHistoryEmpty=function(){return l.a.createElement("div",null,l.a.createElement(S.Card,null,a.loadHeader(),l.a.createElement(S.CardBody,null,l.a.createElement("center",null,l.a.createElement("h5",null,"No payments made yet..!")))))},a.displayPaymentsList=function(e){return l.a.createElement(S.Card,null,l.a.createElement(S.CardHeader,null,l.a.createElement(S.Label,null,l.a.createElement("b",null,"PAYMENT HISTORY ")," ",l.a.createElement("br",null),l.a.createElement("b",null,"Current Balance: \xa3 "),a.state.currentTotalBalance," "),l.a.createElement(D.a,{to:"/billing/addCredits"}," ",l.a.createElement(S.Button,{color:"success",className:"float-right",onClick:a.addBillingPayment}," + Add Credits "))),l.a.createElement(S.CardBody,{style:{textAlign:"center"}},a.loadPaymentsTable(e)))},a.loadPaymentsTable=function(e){return l.a.createElement(S.Table,{striped:!0,bordered:!0},l.a.createElement("thead",null,l.a.createElement("tr",{style:{backgroundColor:"#8F50CD",color:"#FFFFFF"}},l.a.createElement("th",null,"DATE"),l.a.createElement("th",null,"DESCRIPTION"),l.a.createElement("th",null,"AMOUNT"))),l.a.createElement("tbody",null,e))},a.getCurrencySymbol=function(e,t){var a="";return t.map(function(t){return e===t.code&&(a=t.symbol),0}),a},a.dateFormat=function(e){var t=new Date(e).toDateString(),a=t.substring(8,10),n="";if(a>3&&a<21)n="th";else switch(a%10){case 1:n="st";break;case 2:n="nd";break;case 3:n="rd";break;default:n="th"}return l.a.createElement("div",null,a,l.a.createElement("sup",null,n)," ",t.substring(3,7)+" "+t.substring(11,15))},a.state={paymentDetails:[],toggle:!1,accordion:[],currenciesSymbol:[],spinner:!1,search:"",color:void 0,content:void 0,data:"",currentTotalBalance:""},a}return Object(h.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.paymentDetails,n=t.spinner,r=t.currenciesSymbol,o=a.map(function(t,a){return l.a.createElement("tr",{key:a,style:{textAlign:"left"}},l.a.createElement("th",null,e.dateFormat(t.created)),l.a.createElement("th",null,t.description),l.a.createElement("th",null,e.getCurrencySymbol(t.currency,r)," ",t.amount))});return 0===a.length?n?this.loadPayHistoryEmpty():this.loadSpinner():l.a.createElement("div",null,this.displayPaymentsList(o))}}]),t}(n.Component),ma=a(245),pa=a.n(ma),fa=a(246),Ea=a.n(fa),ga=function(e){return e.paymentReferenceId?l.a.createElement("div",null,l.a.createElement(S.Card,null," ",l.a.createElement(S.CardBody,null,l.a.createElement("center",null,l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("img",{src:Ea.a,alt:"logo",width:"110",height:"100"}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("h3",null,"Thank You for your Payment !"),l.a.createElement("span",null,l.a.createElement("h4",null,"Your reference number is: ",l.a.createElement("b",null,e.paymentReferenceId))," ",l.a.createElement("br",null)),l.a.createElement("h3",null,l.a.createElement(D.a,{to:"/billing/paymentHistory",style:{color:"white"}},l.a.createElement(S.Button,{color:"primary"},"View Payment History")))))," ")):l.a.createElement("div",null,l.a.createElement(S.Card,null," ",l.a.createElement(S.CardBody,null,l.a.createElement("center",null,l.a.createElement("br",null),l.a.createElement("b",null," Something went wrong, Your payment is failed. Please Try Again")))," "))},ba="https://www.paypal.com/sdk/js?",ha="",ya=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(g.a)(this,Object(b.a)(t).call(this,e))).componentDidMount=Object(p.a)(m.a.mark(function e(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new ta).getBillingItems(a.successCall,a.failureCall);case 2:case"end":return e.stop()}},e)})),a.onSiteChanged=function(e){a.setState({selectedOption:e.currentTarget.value})},a.cancelPayment=function(){a.setState({cancelPayment:!0})},a.successCall=function(e){a.setState({billingItems:e})},a.errorCall=function(e){a.callAlertTimer("danger","Unable to Process, Please try again...")},a.callAlertTimer=function(){setTimeout(function(){a.setState({paymentSuccess:!0,doubleClick:!1})},x.apiTimeoutMillis)},a.itemId=function(e){a.setState({selectedOption:e,inputValue:e})},a.paymentSuccessMessage=function(){a.setState({paymentSuccess:!0})},a.onChange=function(e){a.setState({inputValue:e.target.value})},a.loadMakePayment=function(e){var t=s.getUser().action,n=ba+s.getSetting("SETTINGS").paypalParams;return l.a.createElement("div",{className:"animated fadeIn"},"VERIFY_EMAIL"!==t?"ADD_BILLING"!==t?a.loadPayPalButton(n):a.loadAddBillingAddress(t):a.loadVerifyMessage())},a.loadVerifyMessage=function(){return l.a.createElement(S.Card,null,l.a.createElement(S.CardBody,null,l.a.createElement("center",null,l.a.createElement("b",null,"You are not verified yet. Please, Verify Your Email"))))},a.loadAddBillingAddress=function(e){return l.a.createElement(S.Card,null,l.a.createElement(S.CardBody,null,l.a.createElement("center",null,l.a.createElement("b",null,"You have not added your Billing Address yet. Please, Add Billing Address."),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(S.Button,{color:"info"},l.a.createElement(D.a,{to:{pathname:"/billing/address/add",state:{updateBill:{addressLine1:"",addressLine2:"",city:"",company:"",country:"",firstName:"",lastName:"",postCode:"",region:""}}},style:{color:"black"}}," ",e," ")))))},a.loadPayPalButton=function(e){return l.a.createElement(S.Card,null,l.a.createElement(S.CardHeader,null," ",l.a.createElement("legend",null,l.a.createElement("b",null,"BUY CREDITS"))),l.a.createElement(pa.a,{url:e,onCreate:a.handleScriptCreate.bind(Object(et.a)(a)),onError:a.handleScriptError.bind(Object(et.a)(a)),onLoad:a.handleScriptLoad.bind(Object(et.a)(a))}),l.a.createElement("h4",{style:{paddingTop:20}},l.a.createElement("center",null,"Select any Payment Option")),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{className:"form-group"},l.a.createElement(S.FormGroup,{check:!0},void 0===a.state.billingItems?" ":a.state.billingItems.map(function(e,t){return a.loadRadioButtons(e,t)})),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("small",{id:"amountHelp",className:"form-text text-center text-muted"},"This amount will be deducted from your payment method.")),l.a.createElement("center",null,l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{id:"paypal-button-container"}))))},a.loadRadioButtons=function(e,t){return l.a.createElement(l.a.Fragment,{key:t},l.a.createElement(S.Col,{sm:"12",md:{size:6,offset:3}},l.a.createElement(S.Label,{check:!0},l.a.createElement(S.Input,{type:"radio",name:"radio1",value:e.amount,checked:a.state.selectedOption===e.amount,onChange:function(){return a.itemId(e.amount)}})," ",l.a.createElement("b",null,e.label)," - ",e.summary,l.a.createElement("br",null)),l.a.createElement("br",null)))},a.state={doubleClick:!1,cancelPayment:!1,paymentSuccess:!1,scriptLoaded:!1,scriptError:!1,inputValue:10,billingItems:[],selectedOption:10},a.createPaypalOrder=a.createPaypalOrder.bind(Object(et.a)(a)),a.paypalOnApprove=a.paypalOnApprove.bind(Object(et.a)(a)),a}return Object(h.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return this.state.paymentSuccess?l.a.createElement(ga,{paymentReferenceId:ha}):l.a.createElement("div",null,this.loadMakePayment())}},{key:"updateInputValue",value:function(e){this.setState({inputValue:e.target.value})}},{key:"handleScriptCreate",value:function(){this.setState({scriptLoaded:!1})}},{key:"handleScriptError",value:function(){this.setState({scriptError:!0})}},{key:"createPaypalOrder",value:function(e,t){return t.order.create({purchase_units:[{amount:{value:this.state.inputValue}}]})}},{key:"paypalOnApprove",value:function(e,t){var a=this,n=x.cloudBaseURL+"/billing/paypal-completed",l=this.state.inputValue;t.order.capture().then(function(t){ha=e.orderID,fetch(n,{method:"post",headers:{"content-type":"application/json",Authorization:"Bearer "+s.getAppUserAccessToken()},body:JSON.stringify({orderId:e.orderID,amount:l})}).catch(function(e){return e.message})}),setTimeout(function(){return a.paymentSuccessMessage()},x.apiTimeoutMillis)}},{key:"handleScriptLoad",value:function(e){window.paypal.Buttons({createOrder:this.createPaypalOrder,onApprove:this.paypalOnApprove}).render("#paypal-button-container"),this.setState({scriptLoaded:!0})}}]),t}(n.Component),Ca=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(g.a)(this,Object(b.a)(t).call(this,e))).componentDidMount=function(){var e=s.getUser();e&&a.setState({user:e})},a.userUpdate=function(e,t,n){0===t.length&&(a.setState({doubleClick:!0}),(new Bt).updateUser(a.updateSuccessCall,a.updateErrorCall,n))},a.updateSuccessCall=function(e){a.callReload("success","User Updated Succesfully !")},a.updateErrorCall=function(e){a.callReload("danger","Unable to process request, Please try Again.. "),a.setState({doubleClick:!a.state.doubleClick})},a.callReload=function(e,t){a.setState({color:e,content:t,updated:!0}),"success"===e&&setTimeout(function(){window.location.href="/dashboard"},x.apiTimeoutMillis)},a.loadEditUser=function(e,t,n){return l.a.createElement(S.Card,null,l.a.createElement(S.CardHeader,null,l.a.createElement("b",null,"EDIT USER")),l.a.createElement(S.CardBody,null,l.a.createElement(S.Alert,{color:t},n," "),l.a.createElement(Q.AvForm,{onSubmit:a.userUpdate},l.a.createElement(Q.AvField,{name:"email",type:"email",label:"Email",placeholder:"Email",value:e.email,required:!0}),l.a.createElement(Q.AvField,{name:"name",type:"text",label:"User Name",placeholder:"User Name",value:e.name,required:!0}),l.a.createElement("center",null,l.a.createElement(S.Button,{color:"success",disabled:a.state.doubleClick},"Update"),l.a.createElement(D.a,{to:"/dashboard",style:{marginLeft:10}},l.a.createElement(S.Button,{color:"secondary",type:"button"},"Cancel"))))))},a.state={updated:!1,user:"",color:"",doubleClick:!1},a}return Object(h.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.state,t=e.color,a=e.content,n=e.user;return this.loadEditUser(n,t,a)}}]),t}(n.Component),va=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(g.a)(this,Object(b.a)(t).call(this,e))).updatePassword=function(e,t,n){0===t.length&&(a.setState({doubleClick:!0}),(new Bt).changePassword(a.changePasswordSuccess,a.changePwdError,n))},a.changePasswordSuccess=function(e){a.callAlert("success","Password changed Succesfully!!")},a.changePwdError=function(e){a.setState({doubleClick:!1}),"Wrong password supplied."!==e?a.callAlert("warning","Unable to process request, Please Try again"):a.callAlert("danger","You entered wrong password, Please Enter correct password")},a.callAlert=function(e,t){a.setState({color:e,content:t}),"success"===e&&setTimeout(function(){a.setState({redirectTo:!0})},x.apiTimeoutMillis)},a.loadChangePassword=function(e,t){return l.a.createElement(S.Card,null,l.a.createElement(S.CardHeader,null,l.a.createElement("b",null,"CHANGE PASSWORD")),l.a.createElement(S.CardBody,null,"success"===e?l.a.createElement(l.a.Fragment,null,l.a.createElement(S.Alert,{color:e},t),a.state.redirectTo&&l.a.createElement(K.a,{to:"/dashboard",style:{marginLeft:10}})):l.a.createElement(l.a.Fragment,null,("success"!==e||e)&&l.a.createElement(S.Alert,{color:e},t),l.a.createElement(Q.AvForm,{onSubmit:a.updatePassword},l.a.createElement(Q.AvField,{name:"old",type:"password",label:"Old Password",errorMessage:"Enter Correct Password",placeholder:"Enter Old Password",value:"danger"===e&&"",required:!0}),l.a.createElement(Q.AvField,{name:"new",type:"password",label:"New Password",errorMessage:"New Password Required",placeholder:"Enter  New Password",required:!0}),l.a.createElement("center",null,l.a.createElement(S.Button,{color:"success",disabled:a.state.doubleClick},"Update"),l.a.createElement(D.a,{to:"/dashboard",style:{marginLeft:10}},l.a.createElement(S.Button,{color:"secondary",type:"button"},"Cancel")))))))},a.loadResponse=function(e){return l.a.createElement(S.Card,null,l.a.createElement(S.CardHeader,null,l.a.createElement("b",null,"CHANGE PASSWORD")),l.a.createElement(S.CardBody,null,l.a.createElement("center",{style:{color:"green"}},e," ",l.a.createElement("br",null),l.a.createElement("br",null))," "))},a.state={color:"",content:"",doubleClick:!1},a}return Object(h.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.state,t=e.color,a=e.content;return this.loadChangePassword(t,a)}}]),t}(n.Component),Sa=l.a.lazy(function(){return a.e(3).then(a.bind(null,513))}),Aa=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(g.a)(this,Object(b.a)(t).call(this,e))).componentDidMount=function(){s.isAppUserLoggedIn()&&(new $).getProfiles(a.successCallProfiles,a.errorCall)},a.successCallProfiles=function(){var e=Object(p.a)(m.a.mark(function e(t){var n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.length&&null!==t){e.next=4;break}console.log("There is No Profile"),e.next=15;break;case 4:return e.next=6,s.saveUserProfiles(t);case 6:if("false"!==s.getSelectedValue()){e.next=9;break}return e.next=9,s.saveProfile(t[0]);case 9:return e.next=11,t.map(function(e){return{name:e.name,url:"/profiles/"+e.id,icon:"cui-user"}});case 11:return n=e.sent,e.next=14,a.setState({profileNames:n});case 14:a.forceUpdate();case 15:a.getUser(),(new ut).settings(function(e){s.saveSetting(e)},function(e){console.log(e)});case 17:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.getUser=function(){(new Bt).getUser(a.successCallUser,a.errorCall)},a.successCallUser=function(e){a.setState({user:e})},a.errorCall=function(e){console.log("Error = ",e)},a.loading=function(){return l.a.createElement("div",{className:"animated fadeIn pt-1 text-center"},"Loading...")},a.changeFlagOnClick=function(){a.setState({flag:!a.state.flag})},a.loadSecureRoutes=function(){var e=a.state.user;return l.a.createElement("div",{className:"app "},a.loadHeader(),l.a.createElement("div",{className:"app-body"},a.loadSideBar(),l.a.createElement("main",{className:"main",style:{backgroundColor:"#FFFFFF"}},a.loadNotification(e),l.a.createElement(S.Container,{fluid:!0},l.a.createElement(n.Suspense,{fallback:a.loading()},a.loadRoutes())))),l.a.createElement(A.a,null,l.a.createElement(n.Suspense,{fallback:a.loading()},l.a.createElement(Sa,null))))},a.loadHeader=function(){return l.a.createElement(A.b,{fixed:!0},l.a.createElement(n.Suspense,{fallback:a.loading()},l.a.createElement(ea,{onLogout:function(e){return a.signOut(e)},onFlagChange:a.changeFlagOnClick})))},a.loadSideBar=function(){var e={items:a.state.profileNames.concat(Oe.items)};return l.a.createElement(A.e,{fixed:!0,display:"sm"},l.a.createElement(n.Suspense,null,null===s.getProfile()||a.state.flag?l.a.createElement(A.f,Object.assign({navConfig:e},a.props)):l.a.createElement(A.f,Object.assign({navConfig:ke},a.props))))},a.loadNotification=function(e){return"VERIFY_EMAIL"===e.action?l.a.createElement("center",{style:{padding:15}},l.a.createElement("span",{style:{backgroundColor:"#f66749",color:"white",borderRadius:"0.4em",padding:7}},"You are not verified yet... Please ",l.a.createElement("u",null,l.a.createElement("a",{href:"/verify",style:{color:"white"}},"Verify Now")))):l.a.createElement("center",{style:{padding:10}})},a.state={flag:!1,profileNames:[],user:[]},a}return Object(h.a)(t,e),Object(E.a)(t,[{key:"signOut",value:function(e){e.preventDefault(),this.props.history.push("/login")}},{key:"render",value:function(){return s.isAppUserLoggedIn()?this.loadSecureRoutes():this.loadRoutes()}},{key:"loadRoutes",value:function(){return l.a.createElement(y.a,null,l.a.createElement(ka,{path:"/dashboard",component:w}),l.a.createElement(ka,{path:"/verify",component:Z}),l.a.createElement(ka,{exact:!0,path:"/editUser",component:Ca}),l.a.createElement(ka,{exact:!0,path:"/changePassword",component:va}),l.a.createElement(ka,{exact:!0,path:"/billing/address/add",component:ia}),l.a.createElement(ka,{exact:!0,path:"/billing/address",component:ua}),l.a.createElement(ka,{exact:!0,path:"/billing/addCredits",component:ya}),l.a.createElement(ka,{exact:!0,path:"/billing/paymentHistory",component:da}),l.a.createElement(ka,{exact:!0,path:"/createProfile",component:he}),l.a.createElement(ka,{exact:!0,path:"/profiles",component:we}),l.a.createElement(ka,{exact:!0,path:"/profiles/:id",component:$t}),l.a.createElement(ka,{path:"/listBills",component:_t}),l.a.createElement(ka,{path:"/label/labels",component:Me}),l.a.createElement(ka,{path:"/label/createLabel",component:qe}),l.a.createElement(ka,{path:"/listCategories",component:$e}),l.a.createElement(ka,{path:"/categories/update",component:Xe}),l.a.createElement(ka,{exact:!0,path:"/contact/createContact",component:St}),l.a.createElement(ka,{exact:!0,path:"/contact/viewContacts",component:Lt}),l.a.createElement(C.a,{path:"/login",component:J}),l.a.createElement(C.a,{path:"/signup",component:Y}),l.a.createElement(C.a,{exact:!0,path:"/",component:J}),l.a.createElement(C.a,{path:"/home",component:z}))}}]),t}(n.Component),wa=Object(c.a)(Aa),ka=function(e){var t=e.component,a=Object(u.a)(e,["component"]);return l.a.createElement(C.a,Object.assign({},a,{render:function(e){return s.isAppUserLoggedIn()?l.a.createElement(t,e):l.a.createElement(v.a,{to:{pathname:"/",state:{from:e.location}}})}}))},Oa=function(){return l.a.createElement("div",null," ",l.a.createElement(wa,null)," ")},Ia=Object(c.a)(function(e){var t=e.history;return s.isAppUserLoggedIn()?l.a.createElement("span",null," ",l.a.createElement(S.Button,{onClick:function(){s.logoutAppUser(function(){return t.push("/")})},color:"danger"},"Sign out"),"  "):l.a.createElement("span",{onClick:function(){t.push("/login")}},"Login")});a(504),a(505);Object(r.render)(l.a.createElement(o.a,null,l.a.createElement(Oa,null)),document.getElementById("root"))}},[[250,1,2]]]);
//# sourceMappingURL=main.5b40eb69.chunk.js.map